<ion-header>
  <ion-toolbar>
    <ion-title>Arranging Contractor</ion-title>
    <ion-buttons slot="end">
      <ion-icon name="close" (click)="dismiss()"></ion-icon>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content class="ion-padding ion-margin">

  <div>
    <ion-segment [(ngModel)]="type" class="segment-card">
      <ion-segment-button value="quote" checked>
        <ion-text>Quote Amount</ion-text>
      </ion-segment-button>
      <ion-segment-button value="document">
        <ion-label>Fault Documents</ion-label>
      </ion-segment-button>
      <ion-segment-button value="photos">
        <ion-label>Fault Photos</ion-label>
      </ion-segment-button>
    </ion-segment>
  </div>

<div [hidden]="type != 'document'">
  <form class="drop-zone" style="margin-top: 15px; padding: 10px 10px 0px 10px; text-align: left;" [formGroup]="uploadDocumentForm" file-drop (files)="uploadDocument($event)">
    <!-- <ion-icon class="icon" name="cloud-upload"></ion-icon> -->
    <input type="file" class="custom-file-input form-control" id="docFiles"
      accept=".png,.jpeg,.pdf,.jpg,.gif,.bmp,.text,.doc,.csv,.docx,.odt" multiple
      (change)="uploadDocument($event.target.files)">
    <!-- <span class="drag-text">Drag files to upload here</span> <br> -->
    <label for="docFiles" class="browse-btn">Browse Files</label>
  </form>
  <ion-col size="50">
    <div class="delete-icon-wrapper" *ngFor="let file of uploadedDocument; let i=index;">
      <ion-grid>
        <ion-row>
          <ion-col size="100">
            <img [src]="file.documentUrl ? file.documentUrl : 'assets/images/default.jpg'"
              (click)="downloadFaultDocumentByUrl(file.documentUrl)">
          </ion-col>
        </ion-row>
        <ion-row class="ion-justify-content-between">
          <ion-col size-xl="80" size-lg="70" size="80">
            <div class="file-name">{{file.name}}</div>
          </ion-col>
          <ion-col size-xl="10" size-lg="15" size="10" class="ion-text-end ion-no-padding">
            <ion-icon (click)="removeFile(i)" title="Delete File" class="delete-icon" name="close-circle">
            </ion-icon>
          </ion-col>
        </ion-row>
      </ion-grid>
    </div>
  </ion-col>
</div>
<div [hidden]="type != 'photos'">
  
</div>
</ion-content>
<ion-footer class="ion-text-right ion-padding">
  <ion-button>Cancel</ion-button>
  <ion-button>Submit</ion-button> 
</ion-footer>