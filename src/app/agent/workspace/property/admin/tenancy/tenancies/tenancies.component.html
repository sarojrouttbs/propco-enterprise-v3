<mat-accordion class="list-view-accordian" multi>
  <mat-expansion-panel #propertyDetails hideToggle expanded>
    <mat-expansion-panel-header>
      <mat-panel-title>
        Tenancies
      </mat-panel-title>
      <mat-panel-description class="ion-justify-content-end no-margin">
        <div>
          <span *ngIf="!propertyDetails.expanded"  class="accordian-icon" title="Expand">
            <ion-icon style="pointer-events:none"  name="add-circle"></ion-icon>
          </span>
          <span *ngIf="propertyDetails.expanded" class="accordian-icon" title="Collapse">
            <ion-icon style="pointer-events:none" name="remove-circle"></ion-icon>
            </span>
        </div>
      </mat-panel-description>
    </mat-expansion-panel-header>
    <ion-card-content id="tenancy-details">
      <div class="table-block" *ngIf="tenancies?.length !== 0">
        <ion-row>
          <ion-col size="100">
            <div class="overlay-container">
              <table datatable [dtOptions]="dtOptions" class="row-border hover" id="propertyTenancyTable" width="100%">
                <thead>
                  <tr>
                    <th style="width:13%">Status</th>
                    <th style="width:15%">Tenant</th>
                    <th style="width:15%">Start</th>
                    <th style="width:15%">End</th>
                    <th style="width:15%">Branch</th>
                    <th style="width:15%">Type</th>
                    <th style="width:15%">Lapse To</th>
                  </tr>
                </thead>
                <tbody>
                  <tr *ngFor="let data of tenancies" class="table-row">
                    <td>{{getLookupValue(data?.status, agreementStatusesLookup) || notAvailable}}</td>
                    <td>{{((data?.tenants?.displayAs) ? data?.tenants?.displayAs : (data?.tenants?.forename +' '+data?.tenants?.surname)) || notAvailable}}</td>
                    <td>{{data?.originalStartDate | date: 'dd/MM/yyyy' || notAvailable}}</td>
                    <td>{{data?.originalEndDate | date: 'dd/MM/yyyy' || notAvailable}}</td>
                    <td>{{getLookupValue(data?.officeCode, officeLookup) || notAvailable}}</td>
                    <td>{{getLookupValue(data?.contractType, contractTypeLookup, true) || notAvailable}}</td>
                    <td>{{getLookupValue(data?.lapseToContract, contractTypeLookup, true) || notAvailable}}</td>
                  </tr>
                </tbody>
              </table>
            </div>
          </ion-col>
        </ion-row>
      </div>
      <div *ngIf="tenancies?.length === 0" ><b>{{DEFAULT_MESSAGES.NO_TENANCY_AVAILABLE}}</b>
      </div>
    </ion-card-content>
  </mat-expansion-panel>
</mat-accordion>