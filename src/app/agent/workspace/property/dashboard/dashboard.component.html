<ion-content>

  <div class="dashboard">
    <div class="header">
      <ion-icon name="menu-outline" size="large"></ion-icon>
      <ion-text> Dashboard </ion-text>
    </div>
    <div class="homescreen-content">
      <div style="width: 33.33% !important;">
        <ion-slides pager style="height: 260px;" *ngIf="propertyDetails?.media">
          <ion-slide *ngFor="let data of propertyDetails?.media; let index = index">
            <div class="swiper-zoom-container">
              <img [src]="options + data?.fileName" [title]="data?.label" tappable (click)="openPreview(index)">
            </div>
            <button type="submit" ion-button color="light" class="swiper-button-prev swiper-button-black"
              (click)="prev()" *ngIf="propertyDetails?.media.length > 1">
              <ion-icon name="chevron-back-outline"></ion-icon>
            </button>
            <button type="submit" ion-button color="light" class="swiper-button-next swiper-button-black"
              (click)="next()" *ngIf="propertyDetails?.media.length > 1">
              <ion-icon name="chevron-forward-outline"></ion-icon>
            </button>
          </ion-slide>
        </ion-slides>

        <div class="no-slider-img" *ngIf="!propertyDetails?.media">
          <img src="assets/images/solr/placeholder.png">
        </div>

        <app-property-landlord-tenant [type]="'landlord'" [propertyLandlords]="propertyLandlords">
        </app-property-landlord-tenant>
      </div>
      <div style="width: 33.33% !important;">
        <app-property-details-card [propertyData]="propertyDetails"></app-property-details-card>
        <app-property-landlord-tenant [type]="'tenant'" [propertyTenants]="propertyTenants">
        </app-property-landlord-tenant>
      </div>
      <div style="width: 33.33% !important;" class="right-panel-block">
        <app-property-right-panel [propertyData]="propertyDetails"></app-property-right-panel>
      </div>
    </div>
    <div *ngIf="propertyData">
      <div class="map-headeing">
        <img class="map-icon" src="assets/images/agent/map.png" alt="">
        <span class="map-title"> MAP
        </span>
      </div>
      <app-google-map [propertyData]="propertyData"></app-google-map>
    </div>

    <div class="table-block">
      <ion-row>
        <ion-col size="100">
          <p class="label">Notes</p>
          <div class="overlay-container">
            <table datatable [dtOptions]="dtOptions"  class="row-border hover" id="propertyNotesTable">
              <thead>
                <tr>
                  <th style="width:15%">Date</th>
                  <th style="width:15%">Time</th>
                  <th style="width:15%">Type</th>
                  <th style="width:15%">Complaint</th>
                  <th style="width:15%">Category</th>
                  <th>User</th>
                  <th style="width:40px">Notes</th>
                </tr>
              </thead>
              <tbody>
                <tr *ngFor="let data of notes" class="table-row">
                  <td>{{data.postedAt | date: 'dd/MM/yyyy' || notAvailable}}</td>
                  <td>{{data.postedAt | date: 'HH:mm' || notAvailable}}</td>
                  <td>{{getLookupValue(data.type, notesTypes) || notAvailable}}</td>
                  <td>{{getLookupValue(data.complaint, notesComplaints) || notAvailable}}</td>
                  <td>{{getLookupValue(data.category, notesCategories) || notAvailable}}</td>
                  <td>{{data.userName || notAvailable}}</td>
                  <td><i (click)="showNoteDescription(data.notes);"
                      class="propcoicon propcoicon-property-description"></i></td>
                </tr>
                <tr *ngIf="notes?.length == 0">
                  <td colspan="7" class="no-data-available ion-text-center"><b>{{DEFAULT_MESSAGES.NO_RECORD_FOUND}}</b></td>
                </tr>
              </tbody>
            </table>
            <div id="divOverlay">
              <i class="propcoicon propcoicon-actions-on"></i>
            </div>
          </div>
        </ion-col>
      </ion-row>
    </div>
    
  </div>
</ion-content>