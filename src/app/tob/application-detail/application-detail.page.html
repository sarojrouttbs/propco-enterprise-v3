<ion-content>
  <ion-grid class="offer-details">
    <app-tob-property-details [propertyDetails]="propertyDetails" [rentFrequencyTypes]="rentFrequencyTypes">
    </app-tob-property-details>
    <ion-grid>
      <ion-row>
        <ion-col size="100">
          <mat-horizontal-stepper class="stepper-section" id="application-stepper" #stepper labelPosition="bottom"
            [selectedIndex]="currentStepperIndex">
            <mat-step>
              <ng-container *ngTemplateOutlet="occupants"></ng-container>
              <ng-template matStepLabel>Occupants</ng-template>
              <div class="action-btn-section">
                <ion-button color="danger" (click)=onCancel()>Cancel</ion-button>&nbsp;
                <button mat-button matStepperNext class="stepper-next">Next</button>
              </div>
            </mat-step>
            <mat-step>
              <ng-container *ngTemplateOutlet="applicantDetails"></ng-container>
              <ng-template matStepLabel>Applicant Details</ng-template>
              <div class="action-btn-section">
                <ion-button color="danger" (click)=onCancel()>Cancel</ion-button>&nbsp;
                <button mat-button matStepperPrevious class="stepper-back">Back</button>&nbsp;
                <button mat-button matStepperNext class="stepper-next">Next</button>
              </div>
            </mat-step>
            <mat-step>
              <ng-container *ngTemplateOutlet="address"></ng-container>
              <ng-template matStepLabel>Address</ng-template>
              <div class="action-btn-section">
                <ion-button color="danger" (click)=onCancel()>Cancel</ion-button>&nbsp;
                <button mat-button matStepperPrevious class="stepper-back">Back</button>&nbsp;
                <button mat-button matStepperNext class="stepper-next">Next</button>
              </div>
            </mat-step>
            <mat-step>
              <ng-container *ngTemplateOutlet="bankDetails"></ng-container>
              <ng-template matStepLabel>Bank Details</ng-template>
              <div class="action-btn-section">
                <ion-button color="danger" (click)=onCancel()>Cancel</ion-button>&nbsp;
                <button mat-button matStepperPrevious class="stepper-back">Back</button>&nbsp;
                <button mat-button matStepperNext class="stepper-next">Next</button>
              </div>
            </mat-step>
            <mat-step>
              <ng-container *ngTemplateOutlet="questions"></ng-container>
              <ng-template matStepLabel>Application Questions</ng-template>
              <div class="action-btn-section">
                <ion-button color="danger" (click)=onCancel()>Cancel</ion-button>&nbsp;
                <button mat-button matStepperPrevious class="stepper-back">Back</button>&nbsp;
                <button mat-button matStepperNext class="stepper-next">Next</button>
              </div>
            </mat-step>
            <mat-step>
              <ng-container *ngTemplateOutlet="tenancyDetails"></ng-container>
              <ng-template matStepLabel>Tenancy Details</ng-template>
              <div class="action-btn-section">
                <ion-button color="danger" (click)=onCancel()>Cancel</ion-button>&nbsp;
                <button mat-button matStepperPrevious class="stepper-back">Back</button>&nbsp;
                <button mat-button matStepperNext class="stepper-next">Next</button>
              </div>
            </mat-step>
            <mat-step>
              <ng-container *ngTemplateOutlet="restriction"></ng-container>
              <ng-template matStepLabel>Restrictions</ng-template>
              <div class="action-btn-section">
                <ion-button color="danger" (click)=onCancel()>Cancel</ion-button>&nbsp;
                <button mat-button matStepperPrevious class="stepper-back">Back</button>&nbsp;
                <button mat-button matStepperNext class="stepper-next">Next</button>
              </div>
            </mat-step>
            <mat-step>
              <ng-container *ngTemplateOutlet="clauses"></ng-container>
              <ng-template matStepLabel>Clauses </ng-template>
              <div class="action-btn-section">
                <ion-button color="danger" (click)=onCancel()>Cancel</ion-button>&nbsp;
                <button mat-button matStepperPrevious class="stepper-back">Back</button>&nbsp;
                <button mat-button matStepperNext class="stepper-next">Next</button>
              </div>
            </mat-step>
            <mat-step>
              <ng-container *ngTemplateOutlet="guarantorDetails"></ng-container>
              <ng-template matStepLabel>Guarantor Details</ng-template>
              <div class="action-btn-section">
                <ion-button color="danger" (click)=onCancel()>Cancel</ion-button>&nbsp;
                <button mat-button matStepperPrevious class="stepper-back">Back</button>&nbsp;
                <button mat-button matStepperNext class="stepper-next">Next</button>
              </div>
            </mat-step>
            <mat-step>
              <ng-container *ngTemplateOutlet="FinalView"></ng-container>
              <ng-template matStepLabel>Review</ng-template>
              <div class="action-btn-section">
                <ion-button color="danger" (click)=onCancel()>Cancel</ion-button>&nbsp;
                <ion-button color="success">Submit</ion-button>
                <button class="next-back-button" mat-button matStepperPrevious class="stepper-back">Back</button>&nbsp;
              </div>
            </mat-step>
            <mat-step>
              <ng-container *ngTemplateOutlet="payment"></ng-container>
              <ng-template matStepLabel>Holding Deposit</ng-template>
              <div class="action-btn-section">
                <ion-button color="danger" (click)=onCancel()>Cancel</ion-button>&nbsp;
                <button mat-button matStepperPrevious class="stepper-back">Back</button>&nbsp;
                <button mat-button matStepperNext class="stepper-next">Next</button>
              </div>
            </mat-step>

          </mat-horizontal-stepper>
        </ion-col>
      </ion-row>
    </ion-grid>
  </ion-grid>
</ion-content>

<ng-template #occupants>
</ng-template>

<ng-template #applicantDetails></ng-template>
<ng-template #address></ng-template>
<ng-template #bankDetails></ng-template>
<ng-template #questions></ng-template>
<ng-template #tenancyDetails></ng-template>

<ng-template #restriction>
  <!-- <ion-grid class="ion-no-padding restriction-section">
    <ion-row class="">
      <ion-col size="100" *ngIf="!propertyRestrictions?.length">
        <div class="no-data">No restrictions found!</div>
      </ion-col>
      <ion-col *ngFor="let res of propertyRestrictions" class="restriction" size-xs="100" size-md="33.3" size-xl="25">
        <ion-card class="no-marg-left-right">
          <ion-card-content>
            <ion-grid>
              <ion-row class="ion-align-items-center ion-justify-content-between">
                <ion-col class="ion-text-start" size="55">
                  <ion-text color="dark" class="res-clause-title">{{res.restrictionName}}</ion-text>
                </ion-col>
                <ion-col class="ion-text-end" size="45">
                  <ion-button class="negotiate" [disabled]="!res.isNegotiable"
                    [fill]="res.isNegotiable? 'solid': 'outline'" color="medium"
                    (click)="presentModal(res, 'RESTRICTION')">
                    Negotiate
                  </ion-button>
                </ion-col>
              </ion-row>
            </ion-grid>
          </ion-card-content>
        </ion-card>
      </ion-col>
    </ion-row>
  </ion-grid> -->
</ng-template>

<ng-template #clauses>
  <!-- <ion-grid class="clause-section">
    <ion-row>
      <ion-col size="100" *ngIf="!propertyClauses?.length">
        <div class="no-data">No special conditions & clauses found!</div>
      </ion-col>
    </ion-row>
    <ion-row>
      <ion-col size="100" *ngFor="let clause of propertyClauses" class="clause">
        <ion-card class="no-marg-left-right">
          <ion-card-content>
            <ion-grid>
              <ion-row class="ion-align-items-start ion-justify-content-between">
                <ion-col class="ion-text-start" [size]="clause.isNegotiable? 80 : 100">
                  <ion-text color="dark" class="res-clause-title">{{clause.clauseName}} </ion-text><br />
                  <ion-text color="medium" class="fs-16">{{clause.clauseText}}</ion-text>
                </ion-col>
                <ion-col class="ion-text-end" size-xs="100" size-sm="100" size-md="20" *ngIf="clause.isNegotiable">
                  <ion-button class="negotiate" [fill]="clause.isNegotiable? 'solid': 'outline'" color="medium"
                    (click)="presentModal(clause, 'CLAUSE')" [disabled]="!clause.isNegotiable">
                    Negotiate
                  </ion-button>
                </ion-col>
              </ion-row>
            </ion-grid>
          </ion-card-content>
        </ion-card>
      </ion-col>
    </ion-row>
    <form [formGroup]="makeAnOfferForm">
      <ion-row>
        <ion-col size="100">
          <ion-item>
            <ion-label position="floating" class="ion-text-wrap">Addition Comments?</ion-label>
            <ion-input formControlName="comments"></ion-input>
          </ion-item>
        </ion-col>
      </ion-row>
    </form>
  </ion-grid> -->
</ng-template>

<ng-template #guarantorDetails></ng-template>

<ng-template #FinalView>
  <!-- <ion-grid>
    <ion-row>
      <ion-col size="100" size-md="60" offset-md="20">
        <ion-grid id="final-view">
          <ion-row class="ion-justify-content-between">
            <ion-col size="100">
              <div class="title">Please review your details:</div>
            </ion-col>
            <ion-col size="100">
              <div class="offer">Your Offer: <ion-text>{{makeAnOfferForm.controls.amount.value | currency: "GBP" ||
                  'N/A'}}
                </ion-text>
              </div>
            </ion-col>
            <ion-col size="100" class="border-bottom"></ion-col>
            <ion-col size="100">
              <div class="sub-heading">Your Tenancy</div>
            </ion-col>
            <ion-col size-xs="100" size-sm="50" class="header-content">
              <ion-text class="header">Offer Status</ion-text><br />
              <ion-text class="content">{{makeAnOfferForm.controls.status.value | lookup: offerStatuses || '-'}}
              </ion-text>
            </ion-col>
            <ion-col size-xs="100" size-sm="50" class="header-content">
              <ion-text class="header">When would you like to move in?</ion-text><br />
              <ion-text class="content">{{ makeAnOfferForm.controls.moveInDate.value ?
                (makeAnOfferForm.controls.moveInDate.value | date: 'dd/MM/yyyy') : '-'}}
              </ion-text>
            </ion-col>
            <ion-col size-xs="100" size-sm="50" class="header-content">
              <ion-text class="header">For how long?</ion-text><br />
              <ion-text class="content">
                {{ makeAnOfferForm.controls.rentingTime.value ? (makeAnOfferForm.controls.rentingTime.value | lookup :
                letDurations) : '-'}}
              </ion-text>
            </ion-col>
            <ion-col size-xs="100" size-sm="50" class="header-content">
              <ion-text class="header">No. of occupants</ion-text><br />
              <ion-text class="content">{{makeAnOfferForm.controls.numberOfAdults.value || '-'}}</ion-text>
            </ion-col>
            <ion-col size-xs="100" size-sm="50" class="header-content">
              <ion-text class="header">No. of children</ion-text><br />
              <ion-text class="content">{{makeAnOfferForm.controls.numberOfChildren.value || 0}}</ion-text>
            </ion-col>
            <ion-col size-xs="100" size-sm="50" class="header-content">
              <ion-text class="header">Your current position</ion-text><br />
              <ion-text class="content">
                {{ makeAnOfferForm.controls.currentPosition.value ? (makeAnOfferForm.controls.currentPosition.value |
                lookup : tenantCurrentPositionTypes) : '-'}}
              </ion-text>
            </ion-col>
            <ion-col size-xs="100" size-sm="50" class="header-content">
              <ion-text class="header">Your occupation</ion-text><br />
              <ion-text class="content">{{makeAnOfferForm.controls.occupation.value || '-'}}</ion-text>
            </ion-col>
            <ion-col size-xs="100" size-sm="50" class="header-content">
              <ion-text class="header">Do you have a guarantor?</ion-text><br />
              <ion-text class="content">{{makeAnOfferForm.controls.hasGuarantor.value ? 'Yes' : 'No'}}</ion-text>
            </ion-col>
            <ion-col size-xs="100" size-sm="50" class="header-content">
              <ion-text class="header">Relationship</ion-text><br />
              <ion-text class="content">
                {{ makeAnOfferForm.controls.guarantorType.value ? (makeAnOfferForm.controls.guarantorType.value | lookup
                : applicantGuarantorTypes) : '-'}}
              </ion-text>
            </ion-col>
            <ion-col size-xs="100" size-sm="50" class="header-content">
              <ion-text class="header">Any pets?</ion-text><br />
              <ion-text class="content">{{makeAnOfferForm.controls.hasPets.value ? 'Yes' : 'No'}}</ion-text>
            </ion-col>
            <ion-col size-xs="100" size-sm="50" class="header-content">
              <ion-text class="header">Pets description</ion-text><br />
              <ion-text class="content">
                {{makeAnOfferForm.controls.hasPets.value ? makeAnOfferForm.controls.petsInfo.value : '-'}}
              </ion-text>
            </ion-col>
            <ion-col size-xs="100" size-sm="50" class="header-content">
              <ion-text class="header ion-text-wrap">Addition Comments</ion-text><br />
              <ion-text class="content">{{makeAnOfferForm.controls.comments.value || '-'}}</ion-text>
            </ion-col>
            <ion-col size="100" class="border-bottom"></ion-col>
            <ion-col size="100">
              <div class="sub-heading">Restrictions</div>
            </ion-col>
            <ng-container>
              <ion-col size-xs="100" size-sm="50" *ngIf="!propertyRestrictions?.length">
                <div class="fs-16"> No restrictions found!</div>
              </ion-col>
              <ion-col size-xs="100" size-sm="50" *ngFor="let res of propertyRestrictions">
                <div class="res-clause-view">
                  <img
                    [src]="res.isNegotiable? 'assets/images/tob/icon-not-negotiable.svg': 'assets/images/tob/close.svg'" />
                  <div style="padding-left:10px">{{res.restrictionName}}</div>
                </div>
              </ion-col>
            </ng-container>
            <ion-col size="100" class="border-bottom"></ion-col>
            <ion-col size="100">
              <div class="sub-heading">Conditions & Clauses</div>
            </ion-col>
            <ion-col size-xs="100" size-sm="100" *ngIf="!propertyClauses?.length">
              <div class="fs-16">No special conditions & clauses found!</div>
            </ion-col>
            <ng-container *ngIf="propertyClauses">
              <ion-col size="100" *ngFor="let res of propertyClauses">
                <div class="res-clause-view clause-view">{{res.clauseName}}<br /> <span
                    class="clause-text">{{res.clauseText}}</span></div>
              </ion-col>
            </ng-container>
            <ion-col size="100" class="border-bottom"></ion-col>
            <ion-col size="100">
              <div class="sub-heading">Confirmation</div>
            </ion-col>
            <ion-col size-xs="100" size-sm="50" class="header-content">
              <ion-text class="header">Confirmed by Applicant</ion-text><br />
              <ion-text class="content">{{confirmationForm.controls.isApplicantConfirmed.value ? 'Yes' : 'No'}}
              </ion-text>
            </ion-col>
            <ion-col size-xs="100" size-sm="50" class="header-content">
              <ion-text class="header">Confirmed On</ion-text><br />
              <ion-text class="content">{{confirmationForm.controls.applicantConfirmedDate.value ?
                (confirmationForm.controls.applicantConfirmedDate.value | date : 'dd/MM/yyyy') : '-'}}</ion-text>
            </ion-col>
            <ion-col size-xs="100" size-sm="50" class="header-content">
              <ion-text class="header">Confirmed by Landlord</ion-text><br />
              <ion-text class="content">{{confirmationForm.controls.isLandlordConfirmed.value ? 'Yes' : 'No'}}
              </ion-text>
            </ion-col>
            <ion-col size-xs="100" size-sm="50" class="header-content">
              <ion-text class="header">Confirmed On</ion-text><br />
              <ion-text class="content">{{confirmationForm.controls.landlordConfirmedDate.value ?
                (confirmationForm.controls.landlordConfirmedDate.value | date : 'dd/MM/yyyy') : '-'}}</ion-text>

            </ion-col>
            <ion-col size-xs="100" size-sm="50" class="header-content">
              <ion-text class="header">Email Applicant</ion-text><br />
              <ion-text class="content">{{confirmationForm.controls.sendEmailToApplicant.value ? 'Yes' : 'No'}}
              </ion-text>
            </ion-col>
            <ion-col size-xs="100" size-sm="50" class="header-content">
              <ion-text class="header">Email Landlord</ion-text><br />
              <ion-text class="content">{{confirmationForm.controls.sendEmailToLandlord.value ? 'Yes' : 'No'}}
              </ion-text>
            </ion-col>

          </ion-row>
        </ion-grid>
      </ion-col>
    </ion-row>
  </ion-grid> -->
</ng-template>
<ng-template #payment></ng-template>