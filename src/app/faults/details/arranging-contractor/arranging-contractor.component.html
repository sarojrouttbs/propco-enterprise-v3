
  <ion-grid>
    <ion-row *ngIf="iacNotification">
      <ion-col offset-xl="20" size-xl="60" offset="0" size="100">
        <div class="arranging-contractor">
          <div class="banner">
            <div class="ion-text-left">
              <b>{{iacNotification?.templateCode}} {{iacNotification?.firstEmailSentAt | date: 'dd/MM/yyyy HH:mm'
                }}</b>
            </div>
            <h2 class="banner-heading">
              {{iacNotification && iacNotification?.responseReceived ? 'Response Received':'Awaiting response'}}</h2>
            <h6 class="banner-title">Hereâ€™s the action you chose:</h6>
            <ion-button color="success" class="icon-button">
              {{getLookupValue(iacNotification?.faultStageAction, iacStageActions)}}
              <ion-icon name="checkmark-circle-outline"></ion-icon>
            </ion-button>
            <ng-container *ngIf="iacNotification && !iacNotification?.responseReceived">
              <h6 class="banner-title awaiting-response">
                <ion-icon name="ellipse" class="response-circle"></ion-icon> Awaiting response from the 
                  <span *ngIf="iacNotification?.recipientType === 8">Landlord</span>
                  <span *ngIf="iacNotification?.recipientType === 11">Contractor</span>
                  <span *ngIf="iacNotification?.recipientType === 1">Tenant</span>
              </h6>
              <h6 class="banner-title" *ngIf="iacNotification?.nextChaseDueAt" >Next chase due:
                {{iacNotification ? (iacNotification?.nextChaseDueAt | date: 'dd MMM yyyy - HH:mm') : ''}}
              </h6>
            </ng-container>
          </div>
          <div class="question-answer" *ngIf="iacNotification">
            <h6>{{iacNotification?.questions[0]?.qtext}}</h6>
            <ion-grid>
              <ion-row class="ion-justify-content-center">
                <ng-container *ngFor="let data of iacNotification?.questions[0]?.options">
                  <ion-button color="success" class="action-btn option"
                    fill="{{data?.value ==  iacNotification?.responseReceived?.isAccepted ? 'solid' :'outline'}}"
                    (click)="questionAction(data)">{{data.text}}</ion-button>
                </ng-container>
              </ion-row>
            </ion-grid>
            <ion-text color="danger" *ngIf="rejectionReason && iacNotification?.templateCode === 'LAR-L-E'">Reason:
              {{rejectionReason}}</ion-text>
            <h6 *ngIf="iacNotification && iacNotification?.responseReceived?.isAccepted === false">
              <ion-text color="danger">Please select an appropriate action.</ion-text>
            </h6>
            <div class="border-bottom"></div>
          </div>
         <ng-container 
          *ngIf="iacNotification 
            && (iacNotification?.responseReceived == null 
            || !iacNotification?.responseReceived?.isAccepted 
            || enableMarkCompletedBtn() && iacNotification?.notificationStatus !== 7)"
          >
          <div class="question-answer" *ngIf="(iacNotification?.responseReceived == null && faultDetails.status !== 18  && faultDetails.status !== 10 && faultDetails.status !== 12 && (iacNotification?.allowedNumberOfChases === iacNotification?.numberOfChasesDone))">
            <h4 class="ion-text-center">Next Step:</h4> 
            <h6>  
              <ion-text color="danger">Please note: </ion-text>
              <span>The fault will be <i>escalated</i> automatically if the {{iacNotification?.recipientType == 1?'Tenant':(iacNotification?.recipientType == 11?'Contractor':'Landlord')}} doesn't respond within
                {{iacNotification?.hoursLeft}}.
              </span>
            </h6>
            <div class="border-bottom"></div>
          </div>

          <div class="question-answer ion-text-center" 
            *ngIf="(iacNotification?.responseReceived?.isAccepted === false || faultDetails.status === 18) && iacNotification?.notificationStatus !== 7">
            <h4>Next Step:</h4> 
            <h6>
              <b>Fault Escalated - PM to decide the next steps</b>
            </h6>
            <div class="border-bottom"></div>
          </div>

          <h6 *ngIf="enableMarkCompletedBtn()" class="ion-text-center">
            <ion-text>Contractor to visit property on {{faultDetails?.contractorWoPropertyVisitAt | date: 'dd/MM/yyyy HH:mm'}}</ion-text>
            <ion-grid>
              <ion-row class="ion-justify-content-center"><ion-button color="success" fill="outline" class="action-btn option" (click)="openWOJobCompletionModal()">Mark the Job Completed</ion-button></ion-row>
            </ion-grid>
          </h6>
          </ng-container>

          <div class="question-answer"
            *ngIf="iacNotification?.recipientType === 8 
            && faultDetails?.isOverrideCommunicationPreference === true
            && iacNotification?.notificationStatus === 7
            && iacNotification?.responseReceived === null">
            <h4 claas="ion-text-center">Next Step:</h4>
            <h6>
              <ion-text color="danger">Please note: </ion-text>
              <span>This Fault is escalated as Landlord Override communication option is activated. 
                Please respond yourself or forward to Landlord for them to take an action by clicking here</span>
            </h6>
            <ion-button color="success" class="action-btn" fill="solid" (click)="viewNotification(); $event.stopPropagation();">
              View Notification</ion-button>
            <div class="border-bottom"></div>
          </div>

          <div class="question-answer">
            <h6 class="banner-title">Want to proceed in a different way? Choose one of the following instead:</h6>
            <ion-grid>
              <ion-row class="ion-justify-content-center">
                <ng-container *ngFor="let instruction of otherStageActions">
                  <div>
                    <ion-button color="success" expand="block" class="action-btn"
                      fill="{{userSelectedActionControl.value == instruction.index ? 'solid' :'outline'}}"
                      (click)="setUserAction(instruction.index)">
                      {{instruction.value}}
                      <ion-icon name="checkmark-circle-outline" class="check-icon"
                        *ngIf="(userSelectedActionControl.value == instruction.index)"></ion-icon>
                    </ion-button>
                  </div>
                </ng-container>
              </ion-row>
            </ion-grid>
          </div>
          <!-- <ion-button (click)="questionActionQuoteUpload(true)">Upload</ion-button> -->
        </div>
      </ion-col>
    </ion-row>
    <ion-grid style="margin: 20px 0"
      *ngIf="(iacNotification?.templateCode === 'CQ-C-E' || iacNotification?.templateCode === 'LAR-L-E') && quoteDocuments?.length">
      <ion-row>
        <ion-col offset-xl="20" size-xl="60" offset="0" size="100">
          <h2>Quote Documents</h2>
          <div class="border-bottom"></div>
          <ion-row>
            <ion-col size-xl="25" size="25" *ngFor="let file of quoteDocuments; let i=index;">
              <div class="delete-icon-wrapper">
                <ion-grid>
                  <ion-row>
                    <ion-col size="100" *ngIf="getFileType(file.name)">
                      <img src="/assets/images/default.jpg" (click)="downloadDocumentByURl(file.documentUrl)"
                        title="Click To Download PDF">
                    </ion-col>
                    <ion-col size="100" *ngIf="!getFileType(file.name)">
                      <img [src]="file.documentUrl ? file.documentUrl : '/assets/images/default.jpg'"
                        (click)="downloadDocumentByURl(file.documentUrl)" title="Click To Download">
                    </ion-col>
                  </ion-row>
                  <ion-row class="ion-justify-content-between">
                    <ion-col size-xl="80" size-lg="70" size="80">
                      <div class="file-name">{{file.name}}</div>
                    </ion-col>
                    <ion-col size-xl="10" size-lg="15" size="10" class="ion-text-end ion-no-padding">
                      <ion-icon (click)="deleteDocument(file?.documentId, i)" title="Delete File" class="delete-icon"
                        name="close-circle">
                      </ion-icon>
                    </ion-col>
                  </ion-row>
                </ion-grid>
              </div>
            </ion-col>
          </ion-row>
        </ion-col>
      </ion-row>
    </ion-grid>
    <ion-row *ngIf="isFormsReady">
      
        <ion-col offset-xl="20" size-xl="60" offset="0" size="100">
          <ng-container *ngIf="!isWorksOrder">
            <form [formGroup]="raiseQuoteForm">
              <ion-grid>
               <ng-container *ngTemplateOutlet="quoteDetails"></ng-container>
               <div class="contractor-block">
                 <div formArrayName="contractorList"
                   *ngFor="let item of raiseQuoteForm.get('contractorList')['controls']; let i = index;">
                   <ion-row id="row_1" class="row-banner" [formGroupName]="i"
                     [ngClass]="{'isRejected': item.get('isRejected').value }">
                     <ion-col size="30">
                       <ion-item>
                         <ion-label position="floating">Company </ion-label>
                         <ion-input formControlName='company'></ion-input>
                       </ion-item>
                     </ion-col>
     
                     <ion-col size="30 ">
                       <ion-item>
                         <ion-label position="floating">Contact Tel.</ion-label>
                         <ion-input formControlName='mobile'></ion-input>
                       </ion-item>
                     </ion-col>
                     <ion-col size="25">
                       <ion-item>
                         <ion-label position="floating">Trade</ion-label>
                         <ion-input formControlName="reference"></ion-input>
                       </ion-item>
                     </ion-col>
                     <ion-col size="15">
     
                       <div class="action-btn-container">
                         <ion-checkbox color="success" class="list-checkbox" formControlName="checked"
                           (click)="updateSelection(item.value,i)" [name]="item"
                           [disabled]="restrictAction || item.get('isRejected').value"></ion-checkbox>
                         <ion-icon class="list-button" *ngIf="item.get('isPreferred').value"
                           matTooltip="Preferred Contractor" matTooltipPosition="above" name="checkmark-circle-outline">
                         </ion-icon>
                         <ion-icon class="list-button" color="danger"
                           (click)="removeContractor(i,item.get('isRejected').value)" name="close-circle-outline"></ion-icon>
                       </div>
                     </ion-col>
                   </ion-row>
                 </div>
     
                 <ion-row id="row_1" class="row-banner" [formGroup]="addContractorForm" *ngIf="!restrictAction">
                   <ion-col size="45">
                     <ion-item>
                       <ion-label position="floating">Skill Set
                       </ion-label>
                       <ion-select interface="popover" formControlName="skillSet" class="ion-select-options">
                         <ion-select-option [value]="item.index" *ngFor="let item of contractorSkill">
                           {{ item.value }}
                         </ion-select-option>
                       </ion-select>
     
                     </ion-item>
                   </ion-col>
                   <ion-col size="45">
                     <ion-item>
                       <ion-label position="floating">Start Typing to Search Contractors</ion-label>
     
                       <ion-input type="text" debounce="300" (ionInput)="onSearch($event)" formControlName='contractor'
                         placeholder="">
                       </ion-input>
                     </ion-item>
     
                     <ion-list class="contractor-list" *ngIf="resultsAvailable">
                       <ion-item *ngFor="let result of (contractors| async)?.data" (click)="selectContractor(result)" button
                         style="font-size: 13px !important;">
                         <span>
                           <i class="propcoicon no-background propcoicon-contractor" style="background: transparent;"></i>
                         </span>&nbsp;
                         <label style="color: var(--ion-color-step-200); padding-right: 5px;">{{result.fullName}}&nbsp;
                           <span
                             style="color: var(--ion-color-step-1000);padding-right: 5px;">{{result.reference}}</span>&nbsp;
                           <span class="text-color-lightgreen"
                             style="color: var(--ion-color-primary);padding-right: 5px;">{{result.status}}</span>&nbsp;
                         </label>
     
                       </ion-item>
                     </ion-list>
                     <ion-text *ngIf="isContratorSelected" class="error-message">This contractor is already selected
                     </ion-text>
                   </ion-col>
     
                   <ion-col size="10">
                     <!-- <div class="button-container"> -->
                     <ion-fab-button class="button-container" (click)="addContractor(this.addContractorForm?.value)"
                       [disabled]="!this.addContractorForm?.get('contractor').value || !this.addContractorForm?.get('skillSet').value || !isSelected">
                       <ion-icon name="add-sharp" class="add-contractor list-button"></ion-icon>
                     </ion-fab-button>
                     <!-- </div> -->
                   </ion-col>
                 </ion-row>
                 <ion-col size="100" *ngIf="!restrictAction">
                   <ion-text color="dark"> Note: Please click Add to add another contractor to the list.</ion-text>
                 </ion-col>
               </div>
             </ion-grid>
             </form>
          </ng-container>
          <ng-container *ngIf="isWorksOrder">
            <form [formGroup]="workOrderForm">
              <ion-grid>
               <ng-template *ngTemplateOutlet="worksOrderDetails"></ng-template>
             </ion-grid>
             </form>
          </ng-container>
        </ion-col>
      
    </ion-row>
  </ion-grid>
<ng-template #quoteDetails>
  <form [formGroup]="raiseQuoteForm">
    <ion-row>
      <ion-col size="50">
        <ion-item>
          <ion-label position="floating">Quotation Number<ion-text class="mandatory">*</ion-text>
          </ion-label>
          <ion-input formControlName="worksOrderNumber"></ion-input>
        </ion-item>
        <app-validation-message [control]="raiseQuoteForm.controls.worksOrderNumber"></app-validation-message>
      </ion-col>
      <ion-col size="50">
        <ion-item>
          <ion-label position="floating">Category <ion-text class="mandatory">*</ion-text>
          </ion-label>
          <ion-select interface="popover" formControlName="quoteCategory">
            <ion-select-option [value]="item.value" *ngFor="let item of faultCategories">{{ item.value }}
            </ion-select-option>
          </ion-select>
        </ion-item>
      </ion-col>
      <ion-col size="50">
        <!-- <ion-item>
          <ion-label position="floating">Nominal Code
            <ion-text class="mandatory">*</ion-text>
          </ion-label>
          <ion-select interface="popover" formControlName="nominalCode">
            <ion-select-option [value]="item.nominalCode" *ngFor="let item of nominalCodes">{{item.nominalCode}} -
              {{item.description}}
            </ion-select-option>
          </ion-select>
        </ion-item> -->
  
        <ion-item class="select-block">
          <ion-label position="floating">Nominal Code <ion-text class="mandatory">*</ion-text>
          </ion-label>
          <ionic-selectable item-content itemValueField="nominalCode" itemTextField="concat" [items]="codes"
            [canSearch]="true" [canClear]="true" clearButtonText="Clear" closeButtonSlot="end" confirmButtonText="Apply"
            searchPlaceholder="Search Nominal Code" #nominalCodeType formControlName="nominalCode"
            [shouldStoreItemValue]="false" class="selectable-height" (click)="startLoading()" (onOpen)="endLoading()"
            [shouldBackdropClose]="false">
  
            <ng-template ionicSelectableHeaderTemplate>
              <ion-toolbar>
                <ion-buttons end>
                </ion-buttons>
                <ion-title>
                  {{nominalCodeType.label}}
                </ion-title>
              </ion-toolbar>
            </ng-template>
  
            <ng-template ionicSelectableFooterTemplate>
              <ion-toolbar>
                <ion-button color="success" class="action-btn" fill="outline" class="selectable-btn"
                  (click)="nominalCodeType.confirm();nominalCodeType.close();"
                  [disabled]="!nominalCodeType.itemsToConfirm.length">
                  Apply
                </ion-button>
  
                <ion-button color="danger" class="action-btn" fill="outline" class="selectable-btn"
                  (click)="nominalCodeType.clear();nominalCodeType.close();"
                  [disabled]="!nominalCodeType.itemsToConfirm.length">
                  Clear
                </ion-button>
                <ion-button color="danger" class="action-btn" fill="outline" class="selectable-btn"
                  (click)="nominalCodeType.close()">
                  Cancel
                </ion-button>
              </ion-toolbar>
            </ng-template>
          </ionic-selectable>
        </ion-item>
        <app-validation-message [control]="raiseQuoteForm.controls.nominalCode"></app-validation-message>
      </ion-col>
      <ion-col size="50">
        <ion-item>
          <ion-label position="floating">Quote Status</ion-label>
          <ion-select interface="popover" formControlName="quoteStatus">
            <ion-select-option [value]="item.index" *ngFor="let item of quoteStatuses">{{ item.value }}
            </ion-select-option>
          </ion-select>
        </ion-item>
      </ion-col>
  
      <ion-col size="100">
        <ion-item>
          <ion-label position="floating">Description<ion-text class="mandatory">*</ion-text>
          </ion-label>
          <ion-input formControlName="description"></ion-input>
        </ion-item>
        <app-validation-message [control]="raiseQuoteForm.controls.description"></app-validation-message>
      </ion-col>
  
      <ion-col size="50">
        <ion-item>
          <ion-label position="floating">Ordered By<ion-text class="mandatory">*</ion-text>
          </ion-label>
          <ion-input formControlName="orderedBy"></ion-input>
        </ion-item>
      </ion-col>
  
      <ion-col size="50">
        <ion-item>
          <ion-label position="floating">Required By<ion-text class="mandatory">*</ion-text>
          </ion-label>
          <ion-datetime formControlName="requestStartDate" displayFormat="DD/MM/YYYY" interface="popover"
            class="request-start-date">
          </ion-datetime>
        </ion-item>
        <app-validation-message [control]="raiseQuoteForm.controls.requestStartDate"></app-validation-message>
      </ion-col>
  
      <ion-col size="50">
        <ion-item>
          <ion-label position="floating">Contact On-site </ion-label>
          <ion-input formControlName="contact"></ion-input>
        </ion-item>
      </ion-col>
  
      <ion-col size="50">
        <ion-item>
          <ion-label position="floating">Access Information </ion-label>
          <ion-input formControlName="accessDetails"></ion-input>
        </ion-item>
      </ion-col>
    </ion-row>
  </form>
</ng-template>
<ng-template #worksOrderDetails>
  <form [formGroup]="workOrderForm">
    <ion-row class="row-banner">
      <ion-col size="50">
        <ion-item>
          <ion-label position="floating">Contractor <ion-text class="mandatory">*</ion-text>
          </ion-label>
          <ion-input type="text" debounce="300" (ionInput)="onSearchContractor($event)" formControlName='contractorName'
            placeholder="">
          </ion-input>
        </ion-item>
        <app-validation-message [control]="workOrderForm.controls.contractorName"></app-validation-message>
        <ion-list class="contractor-list" *ngIf="woResultsAvailable">
          <ion-item *ngFor="let result of (woContractors| async)?.data" (click)="woSelectContractor(result.entityId)" button
            style="font-size: 13px !important;">
            <span>
              <i class="propcoicon no-background propcoicon-contractor" style="background: transparent;"></i>
            </span>&nbsp;
            <label style="color: var(--ion-color-step-200); padding-right: 5px;">{{result.fullName}}&nbsp;
              <span style="color: var(--ion-color-step-1000);padding-right: 5px;">{{result.reference}}</span>&nbsp;
              <span class="text-color-lightgreen"
                style="color: var(--ion-color-primary);padding-right: 5px;">{{result.status}}</span>&nbsp;
            </label>
          </ion-item>

        </ion-list>
      </ion-col>
      <ion-col size="50">
        <ion-item>
          <ion-label position="floating">Comapny </ion-label>
          <ion-input formControlName="company"></ion-input>
        </ion-item>
      </ion-col>

      <ion-col size="50">
        <ion-item>
          <ion-label position="floating">Address </ion-label>
          <ion-input formControlName="address"></ion-input>
        </ion-item>
      </ion-col>
      <ion-col size="50">
        <ion-item>
          <ion-label position="floating">Telephone </ion-label>
          <ion-input formControlName="businessTelephone"></ion-input>
        </ion-item>
      </ion-col>
    </ion-row>
    <ion-row class="row-banner">
      <ion-col size="33.33">
        <ion-item>
          <ion-label position="floating">Reference </ion-label>
          <ion-input formControlName="agentReference"></ion-input>
        </ion-item>
      </ion-col>
      <ion-col size="33.33">
        <ion-item>
          <ion-label position="floating">Rate </ion-label>
          <ion-input formControlName="defaultCommissionPercentage"></ion-input>
        </ion-item>
      </ion-col>
      <ion-col size="33.33">
        <ion-item>
          <ion-label position="floating">Amount </ion-label>
          <ion-input formControlName="defaultCommissionAmount"></ion-input>
        </ion-item>
      </ion-col>
    </ion-row>

    <ion-row>
      <ion-col size="50">
        <ion-item>
          <ion-label position="floating">Repair Cost <ion-text class="mandatory">*</ion-text>
          </ion-label>
          <ion-input formControlName="repairCost"></ion-input>
        </ion-item>
        <app-validation-message [control]="workOrderForm.controls.repairCost"></app-validation-message>
      </ion-col>
      <ion-col size="50">
        <ion-item>
          <ion-label position="floating">Work Order Number </ion-label>
          <ion-input formControlName="worksOrderNumber"></ion-input>
        </ion-item>
      </ion-col>
      <ion-col size="50">
        <ion-item>
          <ion-label position="floating">Date </ion-label>
          <ion-datetime dateFormat="MM/DD/YYYY" displayFormat="DD MMM YYYY" class="datetime-padding"
            formControlName="postdate">
          </ion-datetime>
        </ion-item>
      </ion-col>
      <ion-col size="50">
        <!-- <ion-item>
          <ion-label position="floating">Nominal code <ion-text class="mandatory">*</ion-text>
          </ion-label>
          <ion-input formControlName="nominalCode"></ion-input>
        </ion-item> -->

        <ion-item class="select-block">
          <ion-label position="floating">Nominal Code <ion-text class="mandatory">*</ion-text>
          </ion-label>
          <ionic-selectable item-content itemValueField="nominalCode" itemTextField="concat" [items]="codes"
            [canSearch]="true" [canClear]="true" clearButtonText="Clear" closeButtonSlot="end" confirmButtonText="Apply"
            searchPlaceholder="Search Nominal Code" #nominalCodeType formControlName="nominalCode"
            [shouldStoreItemValue]="false" class="selectable-height" (click)="startLoading()" (onOpen)="endLoading()"
            [shouldBackdropClose]="false">

            <ng-template ionicSelectableHeaderTemplate>
              <ion-toolbar>
                <ion-buttons end>
                </ion-buttons>
                <ion-title>
                  {{nominalCodeType.label}}
                </ion-title>
              </ion-toolbar>
            </ng-template>

            <ng-template ionicSelectableFooterTemplate>
              <ion-toolbar>
                <ion-button color="success" class="action-btn" fill="outline" class="selectable-btn"
                  (click)="nominalCodeType.confirm();nominalCodeType.close();"
                  [disabled]="!nominalCodeType.itemsToConfirm.length">
                  Apply
                </ion-button>

                <ion-button color="danger" class="action-btn" fill="outline" class="selectable-btn"
                  (click)="nominalCodeType.clear();nominalCodeType.close();"
                  [disabled]="!nominalCodeType.itemsToConfirm.length">
                  Clear
                </ion-button>
                <ion-button color="danger" class="action-btn" fill="outline" class="selectable-btn"
                  (click)="nominalCodeType.close()">
                  Cancel
                </ion-button>
              </ion-toolbar>
            </ng-template>
          </ionic-selectable>
        </ion-item>
        <app-validation-message [control]="workOrderForm.controls.nominalCode"></app-validation-message>
      </ion-col>
      <ion-col size="100">
        <ion-item>
          <ion-label position="floating">Description <ion-text class="mandatory">*</ion-text>
          </ion-label>
          <ion-input formControlName="description"></ion-input>
        </ion-item>
        <app-validation-message [control]="workOrderForm.controls.description"></app-validation-message>
      </ion-col>
      <!-- <ion-col size="33.33">
        <ion-item>
          <ion-label position="floating">Paid Via <ion-text class="mandatory">*</ion-text>
          </ion-label>
          <ion-input formControlName="paidBy"></ion-input>
        </ion-item>
        <app-validation-message [control]="workOrderForm.controls.paidBy"></app-validation-message>
      </ion-col> -->
      <!-- <ion-col size="33.33">
        <ion-item>
          <ion-label position="floating">Paid To </ion-label>
          <ion-input formControlName="paidTo"></ion-input>
        </ion-item>
      </ion-col> -->
      <!-- <ion-col size="33.33">
        <ion-item>
          <ion-label position="floating">Default Commission </ion-label>
          <ion-input formControlName="defaultCommision"></ion-input>
        </ion-item>
      </ion-col> -->
      <ion-col size="50">
        <ion-item>
          <ion-label position="floating">Does Branch Holds Management Keys?
          </ion-label>
          <ion-input formControlName="mgntHoldKey"></ion-input>
        </ion-item>
      </ion-col>
      <ion-col size="50">
        <ion-item>
          <ion-label position="floating">Return Keys to </ion-label>
          <ion-input formControlName="keysLocation"></ion-input>
        </ion-item>
      </ion-col>
      <ion-col size="33.33">
        <ion-item>
          <ion-label position="floating">Access Details <ion-text class="mandatory">*</ion-text>
          </ion-label>
          <ion-input formControlName="accessDetails"></ion-input>
        </ion-item>
        <app-validation-message [control]="workOrderForm.controls.accessDetails"></app-validation-message>
      </ion-col>
      <ion-col size="33.33">
        <ion-item>
          <ion-label position="floating">Required Completion Date </ion-label>
          <ion-datetime dateFormat="MM/DD/YYYY" displayFormat="DD MMM YYYY" class="datetime-padding"
            formControlName="requiredDate" [min]="currentDate">
          </ion-datetime>
        </ion-item>
      </ion-col>
      <ion-col size="33.33">
        <ion-item>
          <ion-label position="floating">Ordered By </ion-label>
          <ion-input formControlName="orderedBy"></ion-input>
        </ion-item>
      </ion-col>
      <ion-col size="100">
        <ion-item>
          <ion-label position="floating">Full Job Description <ion-text class="mandatory">*</ion-text></ion-label>
          <ion-textarea rows="1" formControlName="fullDescription" auto-grow="true"></ion-textarea>
        </ion-item>
        <app-validation-message [control]="workOrderForm.controls.fullDescription"></app-validation-message>
      </ion-col>
    </ion-row>
  </form>
</ng-template>
<div class="action-btn-group">
  <ion-button (click)="_btnHandler('cancel')" class="cancel-button">Cancel</ion-button>
  <ion-button (click)="_btnHandler('back')">Back</ion-button>
  <ion-button class="save-button" (click)="_btnHandler('save')">Save for later</ion-button>
  <ion-button class="submit-button" (click)="_btnHandler('proceed')">Proceed</ion-button>
</div>