<ion-header >
  <ion-grid class="ion-no-padding" fixed *ngIf="loaded">
    <app-search-suggestion [entityControl]="entityControl" (searchClickEvent)="searchHandler($event)"></app-search-suggestion> 
  </ion-grid>
</ion-header>

<ion-content class="main-container">
  <mat-drawer-container class="drawer-container">
      <mat-drawer #drawer class="example-sidenav" mode="side" [(opened)]="opened" >
        <div class="filter-heading-wrapper">
          <h1><span title="Collapse [" class="status-pointer"><ion-icon name="chevron-back-outline" size="medium" (click)="drawer.toggle();"></ion-icon></span>Filter your search</h1>
          <section>
            <ion-button size="small" color="danger" (click)="resetAll()">Reset All</ion-button>
            <ion-button size="small" color="medium" (click)="!isAllselected?selectAll():deselectAll()">{{!isAllselected?'Select All':'Select None'}}</ion-button>
            <ion-button size="small" color="medium" (click)="refreshAll()">Refresh</ion-button>
          </section>
          
        </div>
        <mat-accordion class="result-headers-align">
          <mat-expansion-panel  (opened)="setStep(0)">
            <mat-expansion-panel-header>
              <mat-checkbox  color="primary" 
              [formControl]="propertyCheck"
                (click)="$event.stopPropagation();onChangeEntity('property')" 
                (keydown)="$event.stopPropagation()">
                PROPERTY
              </mat-checkbox>
            </mat-expansion-panel-header>
            <form [formGroup]="propertyFilter">
            <ion-list class="list">
              <ion-list-header>
                <ion-label>Rent Type</ion-label>
              </ion-list-header>
              <ion-radio-group formControlName="rentType">
                <ion-row class="rowStyle">
                  <ion-item color="primary-contrast">
                    <ion-label>Default rent</ion-label>
                    <ion-radio slot="start" value="DEFAULT_RENT"></ion-radio>
                  </ion-item>
                  <ion-item color="primary-contrast">
                    <ion-label>Advertise rent</ion-label>
                    <ion-radio slot="start" value="ADVERTISED_RENT"></ion-radio>
                  </ion-item>
                </ion-row>
              </ion-radio-group>
            </ion-list>
            <ion-list class="list">
              <ion-list-header>
                <ion-label>Price Range</ion-label>
              </ion-list-header>
              <ion-item>
                <ion-range class="dual-range"  min="0" max="5000"  dual-knobs [pin]="true" color="primary" formControlName="propertyRent">
                </ion-range>
              </ion-item>
              <ion-list-header>
                <ion-label>Bed Range</ion-label>
              </ion-list-header>
              <ion-item>
                <ion-range class="dual-range"  min="0" max="20"  dual-knobs [pin]="true" color="primary" formControlName="numberOfBedroom">
                </ion-range>
              </ion-item>
            </ion-list>
            <ion-list class="list">
              <ion-row>
                <ion-col size="50">
                  <mat-form-field [floatLabel]="'never'">
                    <mat-select placeholder="Management Type" formControlName="managementType" multiple>
                      <mat-option *ngFor="let item of managementTypes" [value]="item.index">{{item.value}}</mat-option>
                    </mat-select>
                  </mat-form-field>
                </ion-col>
                <ion-col size="50">
                  <mat-form-field [floatLabel]="'never'">
                    <mat-select placeholder="Style" formControlName="propertyStyle" multiple>
                      <mat-option *ngFor="let item of propertyStyles" [value]="item.index">{{item.value}}</mat-option>
                    </mat-select>
                  </mat-form-field>
                </ion-col>
              </ion-row>
              <ion-row>
                <ion-col size="50">
                  <mat-form-field [floatLabel]="'never'">
                    <mat-select placeholder="Type" formControlName="houseType" multiple>
                      <mat-option *ngFor="let item of houseTypes" [value]="item.index">{{item.value}}</mat-option>
                    </mat-select>
                  </mat-form-field>
                </ion-col>
                <ion-col size="50">
                  <mat-form-field [floatLabel]="'never'">
                    <mat-select placeholder="Status" formControlName="status" multiple>
                      <mat-option *ngFor="let item of propertyStatuses" [value]="item.index">{{item.value}}</mat-option>
                    </mat-select>
                  </mat-form-field>
                </ion-col>
              </ion-row>
              <ion-row>
                <ion-col size="50">
                  <mat-form-field [floatLabel]="'never'">
                    <mat-select placeholder="Office" formControlName="officeCode" multiple>
                      <mat-option *ngFor="let item of officeCodes" [value]="item.index">{{item.value}}</mat-option>
                    </mat-select>
                  </mat-form-field>
                </ion-col>
                <!-- <ion-col size="50">
                  <mat-form-field [floatLabel]="'never'">
                    <mat-select placeholder="Property Management" [formControl]="toppings" multiple>
                      <mat-select-trigger>
                        {{toppings.value ? toppings.value[0] : ''}}
                        <span *ngIf="toppings.value?.length > 1" class="example-additional-selection">
                          (+{{toppings.value.length - 1}} {{toppings.value?.length === 2 ? 'other' : 'others'}})
                        </span>
                      </mat-select-trigger>
                      <mat-option *ngFor="let topping of toppingList" [value]="topping">{{topping}}</mat-option>
                    </mat-select>
                  </mat-form-field>
                </ion-col> -->
              </ion-row>
              <!-- <ion-row>
                <ion-col size="50">
                  <mat-form-field [floatLabel]="'never'">
                    <mat-select placeholder="Negotiator" [formControl]="toppings" multiple>
                      <mat-select-trigger>
                        {{toppings.value ? toppings.value[0] : ''}}
                        <span *ngIf="toppings.value?.length > 1" class="example-additional-selection">
                          (+{{toppings.value.length - 1}} {{toppings.value?.length === 2 ? 'other' : 'others'}})
                        </span>
                      </mat-select-trigger>
                      <mat-option *ngFor="let topping of toppingList" [value]="topping">{{topping}}</mat-option>
                    </mat-select>
                  </mat-form-field>
                </ion-col>
              </ion-row> -->
            </ion-list>
            </form>
            <mat-action-row>
              <ion-button size="small"color="danger" (click)="reset(propertyFilter)">Reset</ion-button>
              <ion-button  size="small" color="medium" (click)="refresh('PROPERTY')">Refresh</ion-button>
            </mat-action-row>
          </mat-expansion-panel>
        
          <mat-expansion-panel [expanded]="step === 1" (opened)="setStep(1)">
            <mat-expansion-panel-header>
              <mat-checkbox  color="primary" 
              [formControl]="landlordCheck"
                (click)="$event.stopPropagation();onChangeEntity('landlord')" 
                (keydown)="$event.stopPropagation()">
                LANDLORD
              </mat-checkbox>
            </mat-expansion-panel-header>
            <form [formGroup]="landlordFilter">
            <ion-list class="list">
              <ion-row>
                <ion-col size="50">
                  <mat-form-field [floatLabel]="'never'">
                    <mat-select placeholder="Status" formControlName="status" multiple>
                      <mat-option *ngFor="let item of landlordStatuses" [value]="item.index">{{item.value}}</mat-option>
                    </mat-select>
                  </mat-form-field>
                </ion-col>
                <ion-col size="50">
                  <mat-form-field [floatLabel]="'never'">
                    <mat-select placeholder="Office" formControlName="officeCode" multiple>
                      <mat-option *ngFor="let item of officeCodes" [value]="item.index">{{item.value}}</mat-option>
                    </mat-select>
                  </mat-form-field>
                </ion-col>
              </ion-row>
              <ion-row>
                <ion-col size="100">
                  <ion-item>
                    <ion-toggle color="primary" formControlName="isOverseas"></ion-toggle>
                    Overseas
                  </ion-item>
                </ion-col>
              </ion-row>
            </ion-list>
            </form>
            <mat-action-row>
              <ion-button size="small"color="danger" (click)="reset(landlordFilter)">Reset</ion-button>
              <ion-button  size="small" color="medium" (click)="refresh('LANDLORD')">Refresh</ion-button>
            </mat-action-row>
          </mat-expansion-panel>
        
          <mat-expansion-panel [expanded]="step === 2" (opened)="setStep(2)">
            <mat-expansion-panel-header>
              <mat-checkbox  color="primary" 
                [formControl]="tenantCheck"
                (click)="$event.stopPropagation();onChangeEntity('tenant')" 
                (keydown)="$event.stopPropagation()">
                TENANT
              </mat-checkbox>
            </mat-expansion-panel-header>
            <form [formGroup]="tenantFilter">
            <ion-list class="list">
              <ion-row>
                <ion-col size="50">
                  <mat-form-field [floatLabel]="'never'">
                    <mat-select placeholder="Entity Type" formControlName="tenantType" multiple>
                      <mat-option  [value]="'LEAD_TENANT'">Tenant</mat-option>
                      <mat-option  [value]="'CO_TENANT'">Co Tenant</mat-option>
                    </mat-select>
                  </mat-form-field>
                </ion-col>
                <ion-col size="50">
                  <mat-form-field [floatLabel]="'never'">
                    <mat-select placeholder="Office" formControlName="officeCode" multiple>
                      <mat-option *ngFor="let item of officeCodes" [value]="item.index">{{item.value}}</mat-option>
                    </mat-select>
                  </mat-form-field>
                </ion-col>
              </ion-row>
              <ion-row>
                <ion-col size="50">
                  <mat-form-field [floatLabel]="'never'">
                    <mat-select placeholder="Status" formControlName="status" multiple>
                      <mat-option *ngFor="let item of tenantStatuses" [value]="item.index">{{item.value}}</mat-option>
                    </mat-select>
                  </mat-form-field>
                </ion-col>
              </ion-row>
              </ion-list>
            </form>
              <mat-action-row>
                <ion-button size="small" color="danger" (click)="reset(tenantFilter)">Reset</ion-button>
                <ion-button  size="small" color="medium" (click)="refresh('TENANT')">Refresh</ion-button>
              </mat-action-row>
          </mat-expansion-panel>
  
          <mat-expansion-panel [expanded]="step === 3" (opened)="setStep(3)">
            <mat-expansion-panel-header>
              <mat-checkbox [formControl]="applicantCheck" color="primary" 
                (click)="$event.stopPropagation();onChangeEntity('applicant')" 
                (keydown)="$event.stopPropagation()">
                APPLICANT
              </mat-checkbox>
            </mat-expansion-panel-header>
            <form [formGroup]="applicantFilter">
            <ion-list class="list">
              <ion-row>
                <ion-col size="100">
                  <ion-item>
                    <ion-toggle color="primary" formControlName="isHot"></ion-toggle>
                    Hot
                  </ion-item>
                </ion-col>
              </ion-row>
              <ion-row>
                <ion-col size="100">
                  <ion-item>
                    <ion-toggle color="primary" formControlName="isStudent"></ion-toggle>
                    Is a Student
                  </ion-item>
                  </ion-col>
              </ion-row>
              <ion-row>
                <ion-col size="50">
                  <mat-form-field [floatLabel]="'never'">
                    <mat-select placeholder="Office" formControlName="officeCode" multiple>
                      <mat-option *ngFor="let item of officeCodes" [value]="item.index">{{item.value}}</mat-option>
                    </mat-select>
                  </mat-form-field>
                </ion-col>
              </ion-row>
              </ion-list>
            </form>
            <mat-action-row>
              <ion-button size="small" color="danger" (click)="reset(applicantFilter)">Reset</ion-button>
              <ion-button  size="small" color="medium" (click)="refresh('APPLICANT')">Refresh</ion-button>
            </mat-action-row>
          </mat-expansion-panel>
  
          <mat-expansion-panel [expanded]="step === 4" (opened)="setStep(4)">
            <mat-expansion-panel-header>
              <mat-checkbox [formControl]="agentCheck" color="primary" 
                (click)="$event.stopPropagation();onChangeEntity('agent')" 
                (keydown)="$event.stopPropagation()">
                AGENT
              </mat-checkbox>
            </mat-expansion-panel-header>
            <form [formGroup]="agentFilter">
            <ion-list class="list">
              <ion-row>
                <ion-col size="100">
                  <ion-item>
                    <ion-toggle color="primary" formControlName="isJournalExclude"></ion-toggle>
                    VAT Registered
                  </ion-item>
                </ion-col>
                <ion-col size="100">
                  <ion-item>
                    <ion-toggle color="primary" formControlName="isVatRegistered"></ion-toggle>
                    Journal Exclude
                  </ion-item>
                </ion-col>
              </ion-row>
              <ion-row>
                <ion-col size="50">
                  <mat-form-field [floatLabel]="'never'">
                    <mat-select placeholder="Status" formControlName="status" multiple>
                      <mat-option *ngFor="let item of applicantStatuses" [value]="item.index">{{item.value}}</mat-option>
                    </mat-select>
                  </mat-form-field>
                </ion-col>
              </ion-row>
            </ion-list>
              </form>
              <mat-action-row>
                <ion-button size="small" color="danger" (click)="reset(agentFilter)">Reset</ion-button>
                <ion-button  size="small" color="medium" (click)="refresh('AGENT')">Refresh</ion-button>
              </mat-action-row>
          </mat-expansion-panel>
        
        <mat-expansion-panel [expanded]="step === 5" (opened)="setStep(5)">
          <mat-expansion-panel-header>
            <mat-checkbox [formControl]="contractorCheck" color="primary" 
              (click)="$event.stopPropagation();onChangeEntity('contractor')" 
              (keydown)="$event.stopPropagation()">
              CONTRACTOR
            </mat-checkbox>
          </mat-expansion-panel-header>
          <form [formGroup]="contractorFilter">
          <ion-list class="list">
            <ion-row>
              <ion-col size="50">
                <mat-form-field [floatLabel]="'never'">
                  <mat-select placeholder="Status" formControlName="status" multiple>
                    <mat-option *ngFor="let item of contractorStatuses" [value]="item.index">{{item.value}}</mat-option>
                  </mat-select>
                </mat-form-field>
              </ion-col>
              <ion-col size="50">
                <mat-form-field [floatLabel]="'never'">
                  <mat-select placeholder="Skill Set" formControlName="skills" multiple>
                    <mat-option *ngFor="let item of contractorSkills" [value]="item.index">{{item.value}}</mat-option>
                  </mat-select>
                </mat-form-field>
              </ion-col>
            </ion-row>
            <ion-row>
              <ion-col size="100">
                <ion-item>
                  <ion-toggle color="primary" formControlName="vatRegistered"></ion-toggle>
                  VAT Registered
                </ion-item>
              </ion-col>
              <ion-col size="100">
                <ion-item>
                  <ion-toggle color="primary" formControlName="approvedByAgent"></ion-toggle>
                  Agency Approved
                </ion-item>
              </ion-col>
            </ion-row>
          </ion-list>
          </form>
          <mat-action-row>
            <ion-button size="small" color="danger" (click)="reset(contractorFilter)">Reset</ion-button>
            <ion-button  size="small" color="medium" (click)="refresh('CONTRACTOR')">Refresh</ion-button>
          </mat-action-row>
          </mat-expansion-panel>
        </mat-accordion>
      </mat-drawer>
      <mat-drawer-content class="main-container" *ngIf="loaded">
          <mat-paginator #paginator
            [length]="length"
            [showFirstLastButtons]="true"
            [pageSize]="pageSize"
            [pageSizeOptions]="[5, 10, 25, 100]"
            (page)="pageEvent = handlePage($event)">
        </mat-paginator>
        
        <ion-grid>
          <ion-row>
            <ion-col size="80">
              <h3>{{length}} result(s) found</h3>
            </ion-col>
            <ion-col size="20" class="ion-text-right">
              <br>
              <ion-buttons (click)="drawer.toggle();" >
                Filter&nbsp;&nbsp;<ion-icon name="options-outline"></ion-icon>
              </ion-buttons>
            </ion-col>
          </ion-row>
        </ion-grid>
  
        <div *ngFor="let item of results">
          <ng-container [ngTemplateOutlet]="propertySuggestion"  *ngIf="item?.entityType === 'PROPERTY'"
                [ngTemplateOutletContext]="{item:item}">
          </ng-container>
          <ng-container [ngTemplateOutlet]="landlordSuggestion"  *ngIf="item?.entityType === 'LANDLORD'"
                [ngTemplateOutletContext]="{item:item}">
          </ng-container>
          <ng-container [ngTemplateOutlet]="tenantSuggestion"  *ngIf="item?.entityType === 'TENANT'"
                [ngTemplateOutletContext]="{item:item}">
          </ng-container>
          <ng-container [ngTemplateOutlet]="contractorSuggestion"  *ngIf="item?.entityType === 'CONTRACTOR'"
                [ngTemplateOutletContext]="{item:item}">
          </ng-container>
          <ng-container [ngTemplateOutlet]="agentSuggestion"  *ngIf="item?.entityType === 'AGENT'"
                [ngTemplateOutletContext]="{item:item}">
          </ng-container>
          <ng-container [ngTemplateOutlet]="applicantSuggestion"  *ngIf="item?.entityType === 'APPLICANT'"
                [ngTemplateOutletContext]="{item:item}">
          </ng-container>
        </div>
  
        <mat-paginator #paginator
            [length]="length"
            [showFirstLastButtons]="true"
            [pageSize]="pageSize"
            [pageSizeOptions]="[5, 10, 25, 100]"
            (page)="pageEvent = handlePage($event)">
        </mat-paginator>
      </mat-drawer-content>
  </mat-drawer-container>
</ion-content>


<ng-template #propertySuggestion  let-item="item">
  <ion-card-content id="details" (click)="openDetails('OpenProperty',item.entityId)">
    <ion-grid >
      <ion-row class="main-row">
        <ion-col class="ion-no-padding" size-xl="17" size="30">
          <ion-grid >
            <ion-row>
              <ion-col size="80">
                <div style="display: block;"><img style="min-height: 130px;" [src]="item?.propertyImage" onerror="this.onerror=null;this.src='assets/images/solr/placeholder.jpg';"></div>
              </ion-col>
              <ion-col size="20" class="ion-no-padding">
                <ion-grid class="ion-no-padding ion-align-items-center">
                  <ion-row class="ion-align-items-center ion-justify-content-center">
                    <ion-col>
                      <i class="propcoicon propcoicon-beds no-background"></i>
                    </ion-col>
                    <ion-col>
                      <span >&nbsp;6</span>
                    </ion-col>
                  </ion-row>
                  <ion-row class="ion-align-items-center ion-justify-content-center">
                    <ion-col>
                      <i class="propcoicon propcoicon-bathrooms no-background"></i>
                    </ion-col>
                    <ion-col>
                      <span >&nbsp;6</span>
                    </ion-col>
                  </ion-row>
                  <ion-row class="ion-align-items-center ion-justify-content-center">
                    <ion-col>
                      <i class="propcoicon propcoicon-lounge no-background"></i>
                    </ion-col>
                    <ion-col>
                      <span >&nbsp;6</span>
                    </ion-col>
                  </ion-row>
                  <ion-row class="ion-align-items-center ion-justify-content-center">
                    <ion-col>
                      <i class="propcoicon propcoicon-garage no-background"></i>
                    </ion-col>
                    <ion-col>
                      <span >&nbsp;6</span>
                    </ion-col>
                  </ion-row>
                </ion-grid>
              </ion-col>
            </ion-row>
          </ion-grid>
        </ion-col>
        <ion-col  size-xl="77" size="70">
          <ion-grid class="no-padding-top">
            <ion-row class="property-details-row">
              <ion-col class="no-padding-top col1" size="75">
                <div>
                  <p class="title text-ellipsis">{{item?.address}}</p>
                </div>
              </ion-col>
              <ion-col class="no-padding-top col2 ion-text-end" size="25">
                <p class="status">{{item?.status}}</p>
                <p class="ref">{{item?.reference}}</p>
              </ion-col>
            </ion-row>
            <ion-row class="fault-data-row">
              <ion-col size-xl="25" size-lg="22" size-md="22">
                <p>
                  <span class="text">Agreement Dates</span>
                <br />
                {{item?.propertyAgreementDate || 'N/A'}}
                </p>
              </ion-col>
              <ion-col size-xl="25" size-lg="22" size-md="22">
                <p>
                  <span class="text">Tenant Name(s)</span>
                <br />
                {{item?.propertyTenant || 'N/A'}}
                </p>
              </ion-col>
              <ion-col size-xl="25" size-lg="22" size-md="22">
                <p>
                  <span class="text">Manager</span>
                <br />
                {{item?.propertyManager || 'N/A'}}
                </p>
              </ion-col>
              <ion-col size-xl="25" size-lg="34" size-md="34">
                <p>
                  <span class="text">Negotiator</span>
                <br />
                {{item?.propertyNegotiator || 'N/A'}}
                </p>
              </ion-col>
            </ion-row>
            <ion-row class="fault-meter-row">
              
            </ion-row>
          </ion-grid>
        </ion-col>
      </ion-row>
    </ion-grid>
  </ion-card-content>
</ng-template>
<ng-template #landlordSuggestion  let-item="item">
  <ion-card-content id="details" class="landlord" (click)="openDetails('OpenLanlord',item.entityId)">
    <ion-grid >
      <ion-row class="main-row">
        <ion-col class="ion-no-padding" size-xl="10" size="15">
          <p class="uppercase">Landlord</p>
          <br>
          <i class="propcoicon propcoicon-landlord no-background"></i>
        </ion-col>
        <ion-col  size-xl="75" size="85">
          <ion-grid class="no-padding-top">
            <ion-row class="property-details-row">
              <ion-col class="no-padding-top col1" size="75">
                <div>
                  <!-- <p class="office">{{result.officeName[0]}}</p> -->
                  <p class="name">{{item?.fullName}}</p>
                  <p class="address">{{item?.address}}</p>
                </div>
              </ion-col>
              <ion-col class="no-padding-top col2 ion-text-end" size="25">
                <p class="status">{{item?.status}}</p>
                <p class="ref">{{item?.reference}}</p>
              </ion-col>
            </ion-row>
            <ion-row class="fault-data-row">
              <ion-col size="75">
                <div >
                  <p *ngIf="item.landlordFirstPropertyReference">
                      <span class="text">Property ref</span> <br />{{item?.landlordFirstPropertyReference || '-'}}&nbsp;&nbsp;&nbsp;&nbsp;
                      {{item?.landlordFirstPropertyAddress}}
                  </p>
                  <p class="other-property" *ngIf="item?.landlordOtherPropertiesCount>0">+{{item?.landlordOtherPropertiesCount}} other properties</p>
                </div>
              </ion-col>
            </ion-row>
          </ion-grid>
        </ion-col>
      </ion-row>
    </ion-grid>
  </ion-card-content>
</ng-template>
<ng-template #tenantSuggestion  let-item="item">
  <ion-card-content id="details" class="tenant" (click)="openDetails('OpenTenant',item.entityId)">
    <ion-grid >
      <ion-row class="main-row">
        <ion-col class="ion-no-padding" size-xl="10" size="15">
          <p class="uppercase">Tenant</p>
          <br>
          <i class="propcoicon propcoicon-tenant"></i>
        </ion-col>
        <ion-col  size-xl="75" size="85">
          <ion-grid class="no-padding-top">
            <ion-row class="property-details-row">
              <ion-col class="no-padding-top col1" size="75">
                <div>
                  <!-- <p class="office">{{result.officeName[0]}}</p> -->
                  <p class="name">{{item?.fullName}}</p>
                  <p class="address">{{item?.address || '-'}}</p>
                </div>
              </ion-col>
              <ion-col class="no-padding-top col2 ion-text-end" size="25">
                <p class="status">{{item?.status}}</p>
                <p class="ref">{{item?.reference}}</p>
              </ion-col>
            </ion-row>
          </ion-grid>
        </ion-col>
      </ion-row>
    </ion-grid>
  </ion-card-content>
</ng-template>
<ng-template #contractorSuggestion  let-item="item">
  <ion-card-content id="details" class="contractor" (click)="openDetails('OpenContractor',item.entityId)">
    <ion-grid >
      <ion-row class="main-row">
        <ion-col class="ion-no-padding" size-xl="10" size="15">
          <p class="uppercase">Contractor</p>
          <br>
          <i class="propcoicon propcoicon-contractor no-background"></i>
        </ion-col>
        <ion-col  size-xl="75" size="85">
          <ion-grid class="no-padding-top">
            <ion-row class="property-details-row">
              <ion-col class="no-padding-top col1" size="75">
                <div>
                  <!-- <p class="office">{{result.officeName[0]}}</p> -->
                  <p class="name">{{item.fullName}}</p>
                  <p class="name">{{item.company}}</p>
                  <p class="address">{{item.address ? item.address + ', ': ''}} {{item.postcode}}</p>
                  <p class="skill-set">{{item.occupation}}</p>
                  <p class="agent-approved">{{isAgentApproved(item.isAgentContractorApproved)}}</p>
                </div>
              </ion-col>
              <ion-col class="no-padding-top col2 ion-text-end" size="25">
                <p class="status">{{item?.status}}</p>
                <p class="ref">{{item?.reference}}</p>
              </ion-col>
            </ion-row>
          </ion-grid>
        </ion-col>
      </ion-row>
    </ion-grid>
  </ion-card-content>
</ng-template>
<ng-template #agentSuggestion  let-item="item">
  <ion-card-content id="details" class="agent" (click)="openDetails('OpenAgent',item.entityId)">
    <ion-grid >
      <ion-row class="main-row">
        <ion-col class="ion-no-padding" size-xl="10" size="15">
          <p class="uppercase">Agent</p>
          <br>
          <i class="propcoicon propcoicon-agent no-background"></i>
        </ion-col>
        <ion-col  size-xl="75" size="85">
          <ion-grid class="no-padding-top">
            <ion-row class="property-details-row">
              <ion-col class="no-padding-top col2 ion-text-end" size="70">
              </ion-col>
              <ion-col class="no-padding-top col2 ion-text-end" size="25">
                <p class="status">{{item?.status}}</p>
                <p class="ref">{{item?.reference}}</p>
              </ion-col>
            </ion-row>
          </ion-grid>
        </ion-col>
      </ion-row>
    </ion-grid>
  </ion-card-content>
</ng-template>
<ng-template #applicantSuggestion  let-item="item">
  <ion-card-content id="details" class="contractor" (click)="openDetails('OpenApplicant',item.entityId)">
    <ion-grid >
      <ion-row class="main-row">
        <ion-col class="ion-no-padding" size-xl="10" size="15">
          <p class="uppercase">Applicant</p>
          <br>
          <i class="propcoicon propcoicon-applicant-let no-background"></i>
        </ion-col>
        <ion-col  size-xl="75" size="85">
          <ion-grid class="no-padding-top">
            <ion-row class="property-details-row">
              <ion-col class="no-padding-top col1" size="75">
                <div>
                  <!-- <p class="office">{{result.officeName[0]}}</p> -->
                  <p class="name">{{item.fullName}}</p>
                  <p class="address">{{item.address ? item.address + ', ': ''}} {{item.postcode}}</p>
                </div>
              </ion-col>
              <ion-col class="no-padding-top col2 ion-text-end" size="25">
                <p class="status">Legacy Reference</p>
                <p class="ref">{{item?.legacyReference || 'N/A'}}</p>
              </ion-col>
            </ion-row>
          </ion-grid>
        </ion-col>
      </ion-row>
    </ion-grid>
  </ion-card-content>
</ng-template>