<ion-content id="solr-search-result" class="main-container">
  <mat-drawer-container class="drawer-container">
      <mat-drawer #drawer class="solr-filter-sidenav" mode="side" [(opened)]="opened" >
        <div class="filter-heading-wrapper">
          <div class="filter-heading-container">
            <span title="Collapse [" class="status-pointer"><ion-icon name="arrow-back-outline" (click)="drawer.toggle();"></ion-icon></span>
            <h1>Filter your search</h1>
          </div>
          <section>
            <ion-button size="small" color="danger" (click)="resetAll()">Reset All</ion-button>
            <ion-button size="small" color="medium" (click)="!isAllselected?selectAll():deselectAll()">{{!isAllselected?'Select All':'Select None'}}</ion-button>
            <ion-button size="small" color="medium" (click)="refreshAll()">Apply</ion-button>
          </section>
        </div>
        <mat-accordion id="filter-details-accordian" class="result-headers-align">
          <mat-expansion-panel (opened)="setStep(0)" #propertyFilterPanel hideToggle>
            <mat-expansion-panel-header>
              <mat-panel-title>
                <mat-checkbox [formControl]="propertyCheck"
                  (click)="$event.stopPropagation();onChangeEntity('property')" 
                  (keydown)="$event.stopPropagation()">
                  Property
                </mat-checkbox>
              </mat-panel-title>
              <mat-panel-description class="ion-justify-content-end no-margin">
                <div>
                  <ion-icon class="accordian-icon" *ngIf="!propertyFilterPanel.expanded" name="add-circle"></ion-icon>
                  <ion-icon class="accordian-icon" *ngIf="propertyFilterPanel.expanded" name="remove-circle"></ion-icon>
                </div>
              </mat-panel-description>
            </mat-expansion-panel-header>
            <form [formGroup]="propertyFilter">
            <ion-list class="list">
              <ion-list-header>
                <ion-label>Rent Type</ion-label>
              </ion-list-header>
              <ion-radio-group formControlName="rentType">
                <ion-row class="rowStyle">
                  <ion-item color="primary-contrast">
                    <ion-label>Default rent</ion-label>
                    <ion-radio slot="start" value="DEFAULT_RENT"></ion-radio>
                  </ion-item>
                  <ion-item color="primary-contrast">
                    <ion-label>Advertise rent</ion-label>
                    <ion-radio slot="start" value="ADVERTISED_RENT"></ion-radio>
                  </ion-item>
                </ion-row>
              </ion-radio-group>
            </ion-list>
            <ion-list class="list">
              <ion-list-header>
                <ion-label>Price Range</ion-label>
              </ion-list-header>
              <ion-item>
                <!-- <ion-range class="dual-range"  min="0" max="5000"  dual-knobs  color="primary" formControlName="propertyRent">
                </ion-range> -->
                <ngx-slider color="primary" [options]="propRentOptions" formControlName="propertyRent"></ngx-slider>
              </ion-item>
              <ion-list-header>
                <ion-label>Bed Range</ion-label>
              </ion-list-header>
              <ion-item>
                <!-- <ion-range class="dual-range"  min="0" max="20"  dual-knobs [pin]="true" color="primary" formControlName="numberOfBedroom">
                </ion-range> -->
                <ngx-slider  [options]="numberOfBedroomOptions" formControlName="numberOfBedroom"></ngx-slider>
              </ion-item>
            </ion-list>
            <ion-list class="list">
              <ion-row>
                <ion-col size="50">
                  <mat-form-field [floatLabel]="'never'">
                    <mat-select placeholder="Management Type" formControlName="managementType" multiple>
                      <mat-option>
                        <ngx-mat-select-search [formControl]="managementTypeFilterCtrl"
                          placeholderLabel="search"
                          noEntriesFoundLabel="'no matching found'"
                        ></ngx-mat-select-search>
                      </mat-option>
                      <mat-option *ngFor="let item of managementTypesFiltered" [value]="item.index">{{item.value}}</mat-option>
                    </mat-select>
                  </mat-form-field>
                </ion-col>
                <ion-col size="50">
                  <mat-form-field [floatLabel]="'never'">
                    <mat-select placeholder="Style" formControlName="propertyStyle" multiple>
                      <mat-option>
                        <ngx-mat-select-search [formControl]="propertyStyleFilterCtrl"
                          placeholderLabel="search"
                          noEntriesFoundLabel="'no matching found'"
                        ></ngx-mat-select-search>
                      </mat-option>
                      <mat-option *ngFor="let item of propertyStylesFiltered" [value]="item.index">{{item.value}}</mat-option>
                    </mat-select>
                  </mat-form-field>
                </ion-col>
              </ion-row>
              <ion-row>
                <ion-col size="50">
                  <mat-form-field [floatLabel]="'never'">
                    <mat-select placeholder="Type" formControlName="houseType" multiple>
                      <mat-option>
                        <ngx-mat-select-search [formControl]="houseTypeFilterCtrl"
                      placeholderLabel="search"
                      noEntriesFoundLabel="'no matching found'"
                    ></ngx-mat-select-search>
                      </mat-option>
                      <mat-option *ngFor="let item of houseTypesFiltered" [value]="item.index">{{item.value}}</mat-option>
                    </mat-select>
                  </mat-form-field>
                </ion-col>
                <ion-col size="50">
                  <mat-form-field [floatLabel]="'never'">
                    <mat-select placeholder="Status" formControlName="status" multiple>
                      <mat-option>
                        <ngx-mat-select-search [formControl]="propertyStatusFilterCtrl"
                      placeholderLabel="search"
                      noEntriesFoundLabel="'no matching found'"
                    ></ngx-mat-select-search>
                      </mat-option>
                      <mat-option *ngFor="let item of propertyStatusesFiltered" [value]="item.index">{{item.value}}</mat-option>
                    </mat-select>
                  </mat-form-field>
                </ion-col>
              </ion-row>
              <ion-row>
                <ion-col size="50">
                  <mat-form-field [floatLabel]="'never'">
                    <mat-select placeholder="Office" formControlName="officeCode" multiple>
                      <mat-option>
                        <ngx-mat-select-search [formControl]="officeCodesFilterCtrl"
                      placeholderLabel="search"
                      noEntriesFoundLabel="'no matching found'"
                    ></ngx-mat-select-search>
                      </mat-option>
                      <mat-option *ngFor="let item of officeCodesFiltered" [value]="item.index">{{item.value}}</mat-option>
                    </mat-select>
                  </mat-form-field>
                </ion-col>
                <!-- <ion-col size="50">
                  <mat-form-field [floatLabel]="'never'">
                    <mat-select placeholder="Property Management" [formControl]="toppings" multiple>
                      <mat-select-trigger>
                        {{toppings.value ? toppings.value[0] : ''}}
                        <span *ngIf="toppings.value?.length > 1" class="example-additional-selection">
                          (+{{toppings.value.length - 1}} {{toppings.value?.length === 2 ? 'other' : 'others'}})
                        </span>
                      </mat-select-trigger>
                      <mat-option *ngFor="let topping of toppingList" [value]="topping">{{topping}}</mat-option>
                    </mat-select>
                  </mat-form-field>
                </ion-col> -->
              </ion-row>
              <!-- <ion-row>
                <ion-col size="50">
                  <mat-form-field [floatLabel]="'never'">
                    <mat-select placeholder="Negotiator" [formControl]="toppings" multiple>
                      <mat-select-trigger>
                        {{toppings.value ? toppings.value[0] : ''}}
                        <span *ngIf="toppings.value?.length > 1" class="example-additional-selection">
                          (+{{toppings.value.length - 1}} {{toppings.value?.length === 2 ? 'other' : 'others'}})
                        </span>
                      </mat-select-trigger>
                      <mat-option *ngFor="let topping of toppingList" [value]="topping">{{topping}}</mat-option>
                    </mat-select>
                  </mat-form-field>
                </ion-col>
              </ion-row> -->
            </ion-list>
            </form>
            <mat-action-row>
              <ion-button size="small"color="danger" (click)="reset(propertyFilter)">Reset</ion-button>
              <ion-button  size="small" color="medium" (click)="refresh('PROPERTY')">Apply</ion-button>
            </mat-action-row>
          </mat-expansion-panel>
        
          <mat-expansion-panel [expanded]="step === 1" (opened)="setStep(1)" #landlordFilterPanel hideToggle>
            <mat-expansion-panel-header>
              <mat-panel-title>
                <mat-checkbox  color="primary" 
                [formControl]="landlordCheck"
                  (click)="$event.stopPropagation();onChangeEntity('landlord')" 
                  (keydown)="$event.stopPropagation()">
                  Landlord
                </mat-checkbox>
              </mat-panel-title>
              <mat-panel-description class="ion-justify-content-end no-margin">
                <div>
                  <ion-icon class="accordian-icon" *ngIf="!landlordFilterPanel.expanded" name="add-circle"></ion-icon>
                  <ion-icon class="accordian-icon" *ngIf="landlordFilterPanel.expanded" name="remove-circle"></ion-icon>
                </div>
              </mat-panel-description>
            </mat-expansion-panel-header>
            <form [formGroup]="landlordFilter">
            <ion-list class="list">
              <ion-row>
                <ion-col size="50">
                  <mat-form-field [floatLabel]="'never'">
                    <mat-select placeholder="Status" formControlName="status" multiple>
                      <mat-option>
                        <ngx-mat-select-search [formControl]="landlordStatusFilterCtrl"
                      placeholderLabel="search"
                      noEntriesFoundLabel="'no matching found'"
                    ></ngx-mat-select-search>
                      </mat-option>
                      <mat-option *ngFor="let item of landlordStatusesFiltered" [value]="item.index">{{item.value}}</mat-option>
                    </mat-select>
                  </mat-form-field>
                </ion-col>
                <ion-col size="50">
                  <mat-form-field [floatLabel]="'never'">
                    <mat-select placeholder="Office" formControlName="officeCode" multiple>
                      <mat-option>
                        <ngx-mat-select-search [formControl]="officeCodesFilterCtrl"
                      placeholderLabel="search"
                      noEntriesFoundLabel="'no matching found'"
                    ></ngx-mat-select-search>
                      </mat-option>
                      <mat-option *ngFor="let item of officeCodesFiltered" [value]="item.index">{{item.value}}</mat-option>
                    </mat-select>
                  </mat-form-field>
                </ion-col>
              </ion-row>
              <ion-row>
                <ion-col size="100">
                  <ion-item>
                    <ion-toggle color="primary" formControlName="isOverseas"></ion-toggle>
                    Overseas
                  </ion-item>
                </ion-col>
              </ion-row>
            </ion-list>
            </form>
            <mat-action-row>
              <ion-button size="small"color="danger" (click)="reset(landlordFilter)">Reset</ion-button>
              <ion-button  size="small" color="medium" (click)="refresh('LANDLORD')">Apply</ion-button>
            </mat-action-row>
          </mat-expansion-panel>
        
          <mat-expansion-panel [expanded]="step === 2" (opened)="setStep(2)" #tenantFilterPanel hideToggle>
            <mat-expansion-panel-header>
              <mat-panel-title>
                <mat-checkbox  color="primary" 
                  [formControl]="tenantCheck"
                  (click)="$event.stopPropagation();onChangeEntity('tenant')" 
                  (keydown)="$event.stopPropagation()">
                  Tenant
                </mat-checkbox>
              </mat-panel-title>
              <mat-panel-description class="ion-justify-content-end no-margin">
                <div>
                  <ion-icon class="accordian-icon" *ngIf="!tenantFilterPanel.expanded" name="add-circle"></ion-icon>
                  <ion-icon class="accordian-icon" *ngIf="tenantFilterPanel.expanded" name="remove-circle"></ion-icon>
                </div>
              </mat-panel-description>
            </mat-expansion-panel-header>
            <form [formGroup]="tenantFilter">
            <ion-list class="list">
              <ion-row>
                <ion-col size="50">
                  <mat-form-field [floatLabel]="'never'">
                    <mat-select placeholder="Entity Type" formControlName="tenantType" multiple>
                      <mat-option  [value]="'LEAD_TENANT'">Tenant</mat-option>
                      <mat-option  [value]="'CO_TENANT'">Co Tenant</mat-option>
                    </mat-select>
                  </mat-form-field>
                </ion-col>
                <ion-col size="50">
                  <mat-form-field [floatLabel]="'never'">
                    <mat-select placeholder="Office" formControlName="officeCode" multiple>
                      <mat-option>
                        <ngx-mat-select-search [formControl]="officeCodesFilterCtrl"
                      placeholderLabel="search"
                      noEntriesFoundLabel="'no matching found'"
                    ></ngx-mat-select-search>
                      </mat-option>
                      <mat-option *ngFor="let item of officeCodesFiltered" [value]="item.index">{{item.value}}</mat-option>
                    </mat-select>
                  </mat-form-field>
                </ion-col>
              </ion-row>
              <ion-row>
                <ion-col size="50">
                  <mat-form-field [floatLabel]="'never'">
                    <mat-select placeholder="Status" formControlName="status" multiple>
                      <mat-option>
                        <ngx-mat-select-search [formControl]="tenantStatusFilterCtrl"
                        placeholderLabel="search"
                        noEntriesFoundLabel="'no matching found'"
                      ></ngx-mat-select-search>
                      </mat-option>
                      <mat-option *ngFor="let item of tenantStatusesFiltered" [value]="item.index">{{item.value}}</mat-option>
                    </mat-select>
                  </mat-form-field>
                </ion-col>
              </ion-row>
              </ion-list>
            </form>
              <mat-action-row>
                <ion-button size="small" color="danger" (click)="reset(tenantFilter)">Reset</ion-button>
                <ion-button  size="small" color="medium" (click)="refresh('TENANT')">Apply</ion-button>
              </mat-action-row>
          </mat-expansion-panel>
  
          <mat-expansion-panel [expanded]="step === 3" (opened)="setStep(3)" #applicantFilterPanel hideToggle>
            <mat-expansion-panel-header>
              <mat-panel-title>
                <mat-checkbox [formControl]="applicantCheck" color="primary" 
                  (click)="$event.stopPropagation();onChangeEntity('applicant')" 
                  (keydown)="$event.stopPropagation()">
                  Applicant
                </mat-checkbox>
              </mat-panel-title>
              <mat-panel-description class="ion-justify-content-end no-margin">
                <div>
                 <ion-icon class="accordian-icon" *ngIf="!applicantFilterPanel.expanded" name="add-circle"></ion-icon>
                  <ion-icon class="accordian-icon" *ngIf="applicantFilterPanel.expanded" name="remove-circle"></ion-icon>
                </div>
              </mat-panel-description>
            </mat-expansion-panel-header>
            <form [formGroup]="applicantFilter">
            <ion-list class="list">
              <ion-row>
                <ion-col size="100">
                  <ion-item>
                    <ion-toggle color="primary" formControlName="isHot"></ion-toggle>
                    Hot
                  </ion-item>
                </ion-col>
              </ion-row>
              <ion-row>
                <ion-col size="100">
                  <ion-item>
                    <ion-toggle color="primary" formControlName="isStudent"></ion-toggle>
                    Is a Student
                  </ion-item>
                  </ion-col>
              </ion-row>
              <ion-row>
                <ion-col size="50">
                  <mat-form-field [floatLabel]="'never'">
                    <mat-select placeholder="Office" formControlName="officeCode" multiple>
                      <mat-option>
                        <ngx-mat-select-search [formControl]="officeCodesFilterCtrl"
                      placeholderLabel="search"
                      noEntriesFoundLabel="'no matching found'"
                    ></ngx-mat-select-search>
                      </mat-option>
                      <mat-option *ngFor="let item of officeCodesFiltered" [value]="item.index">{{item.value}}</mat-option>
                    </mat-select>
                  </mat-form-field>
                </ion-col>
              </ion-row>
              </ion-list>
            </form>
            <mat-action-row>
              <ion-button size="small" color="danger" (click)="reset(applicantFilter)">Reset</ion-button>
              <ion-button  size="small" color="medium" (click)="refresh('APPLICANT')">Apply</ion-button>
            </mat-action-row>
          </mat-expansion-panel>
  
          <mat-expansion-panel [expanded]="step === 4" (opened)="setStep(4)" #agentFilterPanel hideToggle>
            <mat-expansion-panel-header>
              <mat-panel-title>
                <mat-checkbox [formControl]="agentCheck" color="primary" 
                  (click)="$event.stopPropagation();onChangeEntity('agent')" 
                  (keydown)="$event.stopPropagation()">
                  Agent
                </mat-checkbox>
              </mat-panel-title>
              <mat-panel-description class="ion-justify-content-end no-margin">
                <div>
                  <ion-icon class="accordian-icon" *ngIf="!agentFilterPanel.expanded" name="add-circle"></ion-icon>
                  <ion-icon class="accordian-icon" *ngIf="agentFilterPanel.expanded" name="remove-circle"></ion-icon>
                </div>
              </mat-panel-description>
            </mat-expansion-panel-header>
            <form [formGroup]="agentFilter">
            <ion-list class="list">
              <ion-row>
                <ion-col size="100">
                  <ion-item>
                    <ion-toggle color="primary" formControlName="isVatRegistered"></ion-toggle>
                    VAT Registered
                  </ion-item>
                </ion-col>
                <ion-col size="100">
                  <ion-item>
                    <ion-toggle color="primary" formControlName="isJournalExclude"></ion-toggle>
                    Journal Exclude
                  </ion-item>
                </ion-col>
              </ion-row>
              <ion-row>
                <ion-col size="50">
                  <mat-form-field [floatLabel]="'never'">
                    <mat-select placeholder="Status" formControlName="status" multiple>
                      <mat-option>
                        <ngx-mat-select-search [formControl]="applicantStatuFilterCtrl"
                      placeholderLabel="search"
                      noEntriesFoundLabel="'no matching found'"
                    ></ngx-mat-select-search>
                      </mat-option>
                      <mat-option *ngFor="let item of applicantStatusesFiltered" [value]="item.index">{{item.value}}</mat-option>
                    </mat-select>
                  </mat-form-field>
                </ion-col>
              </ion-row>
            </ion-list>
              </form>
              <mat-action-row>
                <ion-button size="small" color="danger" (click)="reset(agentFilter)">Reset</ion-button>
                <ion-button  size="small" color="medium" (click)="refresh('AGENT')">Apply</ion-button>
              </mat-action-row>
          </mat-expansion-panel>
        
        <mat-expansion-panel [expanded]="step === 5" (opened)="setStep(5)" #contractorFilterPanel hideToggle>
          <mat-expansion-panel-header>
            <mat-panel-title>
              <mat-checkbox [formControl]="contractorCheck" color="primary" 
                (click)="$event.stopPropagation();onChangeEntity('contractor')" 
                (keydown)="$event.stopPropagation()">
                Contractor
              </mat-checkbox>
            </mat-panel-title>
            <mat-panel-description class="ion-justify-content-end no-margin">
              <div>
                <ion-icon class="accordian-icon" *ngIf="!contractorFilterPanel.expanded" name="add-circle"></ion-icon>
                <ion-icon class="accordian-icon" *ngIf="contractorFilterPanel.expanded" name="remove-circle"></ion-icon>
              </div>
            </mat-panel-description>
          </mat-expansion-panel-header>
          <form [formGroup]="contractorFilter">
          <ion-list class="list">
            <ion-row>
              <ion-col size="50">
                <mat-form-field [floatLabel]="'never'">
                  <mat-select placeholder="Status" formControlName="status" multiple>
                    <mat-option>
                      <ngx-mat-select-search [formControl]="contractorStatusFilterCtrl"
                    placeholderLabel="search"
                    noEntriesFoundLabel="'no matching found'"
                  ></ngx-mat-select-search>
                    </mat-option>
                    <mat-option *ngFor="let item of contractorStatusesFiltered" [value]="item.index">{{item.value}}</mat-option>
                  </mat-select>
                </mat-form-field>
              </ion-col>
              <ion-col size="50">
                <mat-form-field [floatLabel]="'never'">
                  <mat-select placeholder="Skill Set" formControlName="skills" multiple>
                    <mat-option>
                      <ngx-mat-select-search [formControl]="contractorSkillFilterCtrl"
                    placeholderLabel="search"
                    noEntriesFoundLabel="'no matching found'"
                  ></ngx-mat-select-search>
                    </mat-option>
                    <mat-option *ngFor="let item of contractorSkillsFiltered" [value]="item.index">{{item.value}}</mat-option>
                  </mat-select>
                </mat-form-field>
              </ion-col>
            </ion-row>
            <ion-row>
              <ion-col size="100">
                <ion-item>
                  <ion-toggle color="primary" formControlName="vatRegistered"></ion-toggle>
                  VAT Registered
                </ion-item>
              </ion-col>
              <ion-col size="100">
                <ion-item>
                  <ion-toggle color="primary" formControlName="approvedByAgent"></ion-toggle>
                  Agency Approved
                </ion-item>
              </ion-col>
            </ion-row>
          </ion-list>
          </form>
          <mat-action-row>
            <ion-button size="small" color="danger" (click)="reset(contractorFilter)">Reset</ion-button>
            <ion-button  size="small" color="medium" (click)="refresh('CONTRACTOR')">Apply</ion-button>
          </mat-action-row>
          </mat-expansion-panel>
        </mat-accordion>
      </mat-drawer>
      <mat-drawer-content class="solr-pagginater-container">
        <div class="paginator-grid" *ngIf="!showSkeleton">
            <ng-container *ngIf="length > 0">
              <div class="filter-icon-wrapper" *ngIf="!drawer.opened">
                <ion-buttons (click)="drawer.toggle();" >
                  <ion-icon name="options-outline"></ion-icon>
                </ion-buttons>
              </div>
              <!-- <div class="result-wrapper">{{(pageEvent?.pageIndex ? pageEvent?.pageIndex + 1 : 1) + "-" + (length/(pageSize?pageSize:pageEvent?.pageSize)  | number: '1.0-0')}} of {{length}} result(s) found</div> -->
              <div class="result-wrapper">{{length}} result(s) found</div>
              <div>
                <mat-paginator #paginator
                [length]="length"
                [pageSize]="pageSize"
                [pageIndex]="pageIndex"
                [showFirstLastButtons]="true"
                [pageSizeOptions]="[10, 20, 30, 100]"
                (page)="pageEvent = handlePage($event);">
              </mat-paginator>
              </div>
            </ng-container>
            <ng-container *ngIf="!length">
              <div class="filter-icon-wrapper" *ngIf="!drawer.opened">
                <ion-buttons (click)="drawer.toggle();" >
                  <ion-icon name="options-outline"></ion-icon>
                </ion-buttons>
              </div>
              <h3>No Result(s) found</h3>
            </ng-container>
        </div>
       <div class="list-container">
        <ng-container *ngIf="!showSkeleton">
          <ng-container *ngFor="let item of results">
            <ng-container [ngTemplateOutlet]="propertySuggestionListView"  *ngIf="item?.entityType === 'PROPERTY'"
            [ngTemplateOutletContext]="{item:item}">
            </ng-container>
            <ng-container [ngTemplateOutlet]="landlordSuggestionListView"  *ngIf="item?.entityType === 'LANDLORD'"
                  [ngTemplateOutletContext]="{item:item}">
            </ng-container>
            <ng-container [ngTemplateOutlet]="tenantSuggestionListView"  *ngIf="item?.entityType === 'TENANT'"
                  [ngTemplateOutletContext]="{item:item}">
            </ng-container>
            <ng-container [ngTemplateOutlet]="contractorSuggestionListView"  *ngIf="item?.entityType === 'CONTRACTOR'"
                  [ngTemplateOutletContext]="{item:item}">
            </ng-container>
            <ng-container [ngTemplateOutlet]="agentSuggestionListView"  *ngIf="item?.entityType === 'AGENT'"
                  [ngTemplateOutletContext]="{item:item}">
            </ng-container>
            <ng-container [ngTemplateOutlet]="applicantSuggestionListView"  *ngIf="item?.entityType === 'APPLICANT'"
                  [ngTemplateOutletContext]="{item:item}">
            </ng-container>
          </ng-container>
         </ng-container>
        <ng-container *ngIf="showSkeleton">
          <ng-container [ngTemplateOutlet]="listskeleton">
          </ng-container>
        </ng-container>
       </div>
      </mat-drawer-content>
  </mat-drawer-container>
</ion-content>


<ng-template #propertySuggestion  let-item="item">
  <ion-card-content id="details" (click)="openDetails('OpenProperty',item.propcoId)">
    <ion-grid >
      <ion-row class="main-row">
        <ion-col class="ion-no-padding" size-xl="17" size="30">
          <ion-grid >
            <ion-row>
              <ion-col size="80">
                <div style="display: block;"><img style="min-height: 130px;" [src]="item?.propertyImage" onerror="this.onerror=null;this.src='assets/images/solr/placeholder.jpg';"></div>
              </ion-col>
              <ion-col size="20" class="ion-no-padding">
                <ion-grid class="ion-no-padding ion-align-items-center">
                  <ion-row class="ion-align-items-center ion-justify-content-center">
                    <ion-col>
                      <i class="propcoicon propcoicon-beds no-background"></i>
                    </ion-col>
                    <ion-col>
                      <span >&nbsp;6</span>
                    </ion-col>
                  </ion-row>
                  <ion-row class="ion-align-items-center ion-justify-content-center">
                    <ion-col>
                      <i class="propcoicon propcoicon-bathrooms no-background"></i>
                    </ion-col>
                    <ion-col>
                      <span >&nbsp;6</span>
                    </ion-col>
                  </ion-row>
                  <ion-row class="ion-align-items-center ion-justify-content-center">
                    <ion-col>
                      <i class="propcoicon propcoicon-lounge no-background"></i>
                    </ion-col>
                    <ion-col>
                      <span >&nbsp;6</span>
                    </ion-col>
                  </ion-row>
                  <ion-row class="ion-align-items-center ion-justify-content-center">
                    <ion-col>
                      <i class="propcoicon propcoicon-garage no-background"></i>
                    </ion-col>
                    <ion-col>
                      <span >&nbsp;6</span>
                    </ion-col>
                  </ion-row>
                </ion-grid>
              </ion-col>
            </ion-row>
          </ion-grid>
        </ion-col>
        <ion-col  size-xl="77" size="70">
          <ion-grid class="no-padding-top">
            <ion-row class="property-details-row">
              <ion-col class="no-padding-top col1" size="75">
                <div>
                  <p class="title text-ellipsis">{{item?.address}}</p>
                </div>
              </ion-col>
              <ion-col class="no-padding-top col2 ion-text-end" size="25">
                <p class="status">{{item?.status}}</p>
                <p class="ref">{{item?.status}}</p>
              </ion-col>
            </ion-row>
            <ion-row class="fault-data-row">
              <ion-col size-xl="25" size-lg="22" size-md="22">
                <p>
                  <span class="text">Agreement Dates</span>
                <br />
                {{item?.propertyAgreementDate || DEFAULTS.NOT_AVAILABLE}}
                </p>
              </ion-col>
              <ion-col size-xl="25" size-lg="22" size-md="22">
                <p>
                  <span class="text">Tenant Name(s)</span>
                <br />
                {{item?.propertyTenant || DEFAULTS.NOT_AVAILABLE}}
                </p>
              </ion-col>
              <ion-col size-xl="25" size-lg="22" size-md="22">
                <p>
                  <span class="text">Manager</span>
                <br />
                {{item?.propertyManager || DEFAULTS.NOT_AVAILABLE}}
                </p>
              </ion-col>
              <ion-col size-xl="25" size-lg="34" size-md="34">
                <p>
                  <span class="text">Negotiator</span>
                <br />
                {{item?.propertyNegotiator || DEFAULTS.NOT_AVAILABLE}}
                </p>
              </ion-col>
            </ion-row>
            <ion-row class="fault-meter-row">
              
            </ion-row>
          </ion-grid>
        </ion-col>
      </ion-row>
    </ion-grid>
  </ion-card-content>
</ng-template>
<ng-template #landlordSuggestion  let-item="item">
  <ion-card-content id="details" class="landlord" (click)="openDetails('OpenLanlord',item.propcoId)">
    <ion-grid >
      <ion-row class="main-row">
        <ion-col class="ion-no-padding" size-xl="10" size="15">
          <p class="uppercase">Landlord</p>
          <br>
          <i class="propcoicon propcoicon-landlord no-background"></i>
        </ion-col>
        <ion-col  size-xl="75" size="85">
          <ion-grid class="no-padding-top">
            <ion-row class="property-details-row">
              <ion-col class="no-padding-top col1" size="75">
                <div>
                  <!-- <p class="office">{{result.officeName[0]}}</p> -->
                  <p class="name">{{item?.fullName}}</p>
                  <p class="address">{{item?.address}}</p>
                </div>
              </ion-col>
              <ion-col class="no-padding-top col2 ion-text-end" size="25">
                <p class="status">{{item?.status}}</p>
                <p class="ref">{{item?.reference}}</p>
              </ion-col>
            </ion-row>
            <ion-row class="fault-data-row">
              <ion-col size="75">
                <div >
                  <p *ngIf="item.landlordFirstPropertyReference">
                      <span class="text">Property ref</span> <br />{{item?.landlordFirstPropertyReference || '-'}}&nbsp;&nbsp;&nbsp;&nbsp;
                      {{item?.landlordFirstPropertyAddress}}
                  </p>
                  <p class="other-property" *ngIf="item?.landlordOtherPropertiesCount>0">+{{item?.landlordOtherPropertiesCount}} other properties</p>
                </div>
              </ion-col>
            </ion-row>
          </ion-grid>
        </ion-col>
      </ion-row>
    </ion-grid>
  </ion-card-content>
</ng-template>
<ng-template #tenantSuggestion  let-item="item">
  <ion-card-content id="details" class="tenant" (click)="openDetails('OpenTenant',item.propcoId)">
    <ion-grid >
      <ion-row class="main-row">
        <ion-col class="ion-no-padding" size-xl="10" size="15">
          <p class="uppercase">Tenant</p>
          <br>
          <i class="propcoicon propcoicon-tenant"></i>
        </ion-col>
        <ion-col  size-xl="75" size="85">
          <ion-grid class="no-padding-top">
            <ion-row class="property-details-row">
              <ion-col class="no-padding-top col1" size="75">
                <div>
                  <!-- <p class="office">{{result.officeName[0]}}</p> -->
                  <p class="name">{{item?.fullName}}</p>
                  <p class="address">{{item?.address || '-'}}</p>
                </div>
              </ion-col>
              <ion-col class="no-padding-top col2 ion-text-end" size="25">
                <p class="status">{{item?.status}}</p>
                <p class="ref">{{item?.reference}}</p>
              </ion-col>
            </ion-row>
          </ion-grid>
        </ion-col>
      </ion-row>
    </ion-grid>
  </ion-card-content>
</ng-template>
<ng-template #contractorSuggestion  let-item="item">
  <ion-card-content id="details" class="contractor" (click)="openDetails('OpenContractor',item.propcoId)">
    <ion-grid >
      <ion-row class="main-row">
        <ion-col class="ion-no-padding" size-xl="10" size="15">
          <p class="uppercase">Contractor</p>
          <br>
          <i class="propcoicon propcoicon-contractor no-background"></i>
        </ion-col>
        <ion-col  size-xl="75" size="85">
          <ion-grid class="no-padding-top">
            <ion-row class="property-details-row">
              <ion-col class="no-padding-top col1" size="75">
                <div>
                  <!-- <p class="office">{{result.officeName[0]}}</p> -->
                  <p class="name">{{item.fullName}}</p>
                  <p class="name">{{item.company}}</p>
                  <p class="address">{{item.address ? item.address + ', ': ''}} {{item.postcode}}</p>
                  <p class="skill-set">{{item.occupation}}</p>
                  <p class="agent-approved">{{item.isAgentContractorApproved}}</p>
                </div>
              </ion-col>
              <ion-col class="no-padding-top col2 ion-text-end" size="25">
                <p class="status">{{item?.status}}</p>
                <p class="ref">{{item?.reference}}</p>
              </ion-col>
            </ion-row>
          </ion-grid>
        </ion-col>
      </ion-row>
    </ion-grid>
  </ion-card-content>
</ng-template>
<ng-template #agentSuggestion  let-item="item">
  <ion-card-content id="details" class="agent" (click)="openDetails('OpenAgent',item.propcoId)">
    <ion-grid >
      <ion-row class="main-row">
        <ion-col class="ion-no-padding" size-xl="10" size="15">
          <p class="uppercase">Agent</p>
          <br>
          <i class="propcoicon propcoicon-agent no-background"></i>
        </ion-col>
        <ion-col  size-xl="75" size="85">
          <ion-grid class="no-padding-top">
            <ion-row class="property-details-row">
              <ion-col class="no-padding-top col2 ion-text-end" size="70">
              </ion-col>
              <ion-col class="no-padding-top col2 ion-text-end" size="25">
                <p class="status">{{item?.status}}</p>
                <p class="ref">{{item?.reference}}</p>
              </ion-col>
            </ion-row>
          </ion-grid>
        </ion-col>
      </ion-row>
    </ion-grid>
  </ion-card-content>
</ng-template>
<ng-template #applicantSuggestion  let-item="item">
  <ion-card-content id="details" class="contractor" (click)="openDetails('OpenApplicant',item.propcoId)">
    <ion-grid >
      <ion-row class="main-row">
        <ion-col class="ion-no-padding" size-xl="10" size="15">
          <p class="uppercase">Applicant</p>
          <br>
          <i class="propcoicon propcoicon-applicant-let no-background"></i>
        </ion-col>
        <ion-col  size-xl="75" size="85">
          <ion-grid class="no-padding-top">
            <ion-row class="property-details-row">
              <ion-col class="no-padding-top col1" size="75">
                <div>
                  <!-- <p class="office">{{result.officeName[0]}}</p> -->
                  <p class="name">{{item.fullName}}</p>
                  <p class="address">{{item.address ? item.address + ', ': ''}} {{item.postcode}}</p>
                </div>
              </ion-col>
              <ion-col class="no-padding-top col2 ion-text-end" size="25">
                <p class="status">Legacy Reference</p>
                <p class="ref">{{item?.legacyReference || DEFAULTS.NOT_AVAILABLE}}</p>
              </ion-col>
            </ion-row>
          </ion-grid>
        </ion-col>
      </ion-row>
    </ion-grid>
  </ion-card-content>
</ng-template>

<!--List views-->
<ng-template #propertySuggestionListView  let-item="item">
              <mat-accordion class="list-view-accordian" multi>
                <mat-expansion-panel #propertySuggestionPanel hideToggle>
                  <mat-expansion-panel-header>
                    <!-- <mat-panel-title> -->
                     <div class="list-header">
                      <div style="width: 60%;">
                        <p class="title text-ellipsis" [title]="item?.address">{{item?.address}}</p>
                        <span style="display: flex;">
                          <p class="emenities-wrapper">
                            <span>
                              <p class="ref">Rent&nbsp;&nbsp;<span class="pricetag fs-16">Â£{{(item?.propertyRent | number: '1.2-2' ) || 0}}</span><span class="verticalLine"></span></p>
                            </span>
                          </p>
                          <p class="emenities-wrapper">
                            <i class="propcoicon propcoicon-beds no-background"></i>
                            <span >{{item?.numberOfBedroom || 0}}</span>
                          </p>
                          <p class="emenities-wrapper">
                            <i class="propcoicon propcoicon-bathrooms no-background"></i>
                            <span >{{item?.propertyBathrooms || 0}}</span>
                          </p>
                          <p class="emenities-wrapper">
                            <i class="propcoicon propcoicon-lounge no-background"></i>
                            <span >{{item?.propertyReceptions || 0}}</span>
                          </p>
                          <p class="emenities-wrapper">
                            <i class="propcoicon propcoicon-garage no-background"></i>
                            <span >{{item?.propertyParkings || 0}}</span>
                          </p>
                          <p class="emenities-wrapper">
                            <span>
                              <p class="ref"><span class="verticalLine"></span>Ref&nbsp;&nbsp;<span class="reftag">{{(item?.reference ) || 0}}</span></p>
                            </span>
                          </p>
                        </span>
                      </div>
                      <div class="ref-header">
                        <p class="ref">Status</p>
                        <p class="status">{{item?.status}}</p>
                      </div>
                      <div class="contextual-action">
                        <div class="fab-icon">
                          <ion-fab class="cc-list-button" (click)="$event.stopPropagation();">
                            <ion-fab-button class="expand-btn">      
                               <i class="propcoicon propcoicon-actions-on action-btn"></i>
                            </ion-fab-button>
                            <ion-fab-list side="start">
                              <ion-button (click)="$event.stopPropagation();openDetails('OpenProperty',item)"> View </ion-button>
                            </ion-fab-list>
                          </ion-fab>
                        </div>
                        <div>
                          <ion-icon class="accordian-icon" *ngIf="!propertySuggestionPanel.expanded" name="add-circle"></ion-icon>
                          <ion-icon class="accordian-icon" *ngIf="propertySuggestionPanel.expanded" name="remove-circle"></ion-icon>
                        </div>
                      </div>
                    </div>
                  </mat-expansion-panel-header>
                  <ion-card-content id="details">
                    <ion-grid class="ion-no-padding">
                      <ion-row class="main-row">
                        <ion-col class="ion-no-padding" size-xl="17" size="25">
                          <div class="property-img">
                            <img [src]="item?.propertyImage" onerror="this.onerror=null;this.src='assets/images/solr/placeholder.png';">
                          </div>
                        </ion-col>
                        <ion-col class="ion-no-padding" size-xl="77" size="70">
                          <ion-grid class="no-padding-top ion-no-padding">
                            <ion-row class="fault-data-row" style="margin-bottom: 12px;">
                              <ion-col size-xl="25" size-lg="25" size-md="25">
                                <p>
                                  <span class="text">PropCo ID</span>
                                
                                <span class="text-value">
                                  {{item?.propcoId || DEFAULTS.NOT_AVAILABLE}}
                                </span>
                                </p>
                              </ion-col>
                              <ion-col size-xl="35" size-lg="35" size-md="35">
                                <p>
                                  <span class="text">Tenant Name(s)</span>
                                
                                <span class="text-value" [title]="item?.propertyTenant">
                                  {{item?.propertyTenant || DEFAULTS.NOT_AVAILABLE}}
                                </span>
                                </p>
                              </ion-col>
                              <ion-col size-xl="37" size-lg="37" size-md="37">
                                <p>
                                  <span class="text">Agreement Dates</span>
                                
                                <span class="text-value">{{item?.propertyAgreementDate || DEFAULTS.NOT_AVAILABLE}}</span>
                                </p>
                              </ion-col>
                            </ion-row>
                            <ion-row class="fault-data-row" style="margin-bottom: 12px;">
                              <ion-col size-xl="25" size-lg="25" size-md="25">
                                <p>
                                  <span class="text">Type</span>
                                
                                <span class="text-value">{{item?.houseType || DEFAULTS.NOT_AVAILABLE}}</span>
                                </p>
                              </ion-col>
                              <ion-col size-xl="35" size-lg="35" size-md="35">
                                <p>
                                  <span class="text">Office</span>
                                
                                <span class="text-value">{{item?.officeCode || DEFAULTS.NOT_AVAILABLE}}</span>
                                </p>
                              </ion-col>
                              <ion-col size-xl="37" size-lg="37" size-md="37">
                                <p>
                                  <span class="text">Management Type</span>
                                
                                <span class="text-value">{{item?.managementType || DEFAULTS.NOT_AVAILABLE}}</span>
                                </p>
                              </ion-col>
                            </ion-row>
                            <ion-row class="fault-data-row">
                              <ion-col size-xl="25" size-lg="25" size-md="25">
                                <p>
                                  <span class="text">Style</span>
                                
                                <span class="text-value">{{item?.propertyStyle || DEFAULTS.NOT_AVAILABLE}}</span>
                                </p>
                              </ion-col>
                              <ion-col size-xl="35" size-lg="35" size-md="35">
                                <p>
                                  <span class="text">Manager</span>
                                
                                <span class="text-value">{{item?.propertyManager || DEFAULTS.NOT_AVAILABLE}}</span>
                                </p>
                              </ion-col>
                              <ion-col size-xl="37" size-lg="37" size-md="37">
                                <p>
                                  <span class="text">Negotiator</span>
                                
                                <span class="text-value">{{item?.propertyNegotiator || DEFAULTS.NOT_AVAILABLE}}</span>
                                </p>
                              </ion-col>
                            </ion-row>
                           
                          </ion-grid>
                        </ion-col>
                      </ion-row>
                    </ion-grid>
                  </ion-card-content>
                </mat-expansion-panel>

              </mat-accordion>
</ng-template>

<ng-template #agentSuggestionListView  let-item="item">
  <mat-accordion class="list-view-accordian" multi>
    <mat-expansion-panel #agentSuggestionPanel hideToggle>
      <mat-expansion-panel-header>
        <!-- <mat-panel-title> -->
         <div class="list-header align-flex-center">
          <div class="left-side">
            <i class="propcoicon propcoicon-agent no-background"></i>
            <span class="title-wrapper">
              <p class="title text-ellipsis" [title]="item?.fullName">{{item?.reference}}&nbsp;{{item?.fullName}}</p>
              <p>
                <span *ngIf="item?.address" [title]="item?.address">{{item?.address}}&nbsp;</span>
                <span  class="verticalLine" *ngIf="item?.address && item?.isVatRegistered">&nbsp;</span>
                <span class="vat" *ngIf="item?.isVatRegistered">VAT Registered&nbsp;</span>
                <span  class="verticalLine" *ngIf="item?.isPartPayment">&nbsp;</span>
                <span class="vat" *ngIf="item?.isPartPayment">Part payment&nbsp;</span>
                <span  class="verticalLine" *ngIf="item?.isJournalExcluded">&nbsp;</span>
                <span class="vat" *ngIf="item?.isJournalExcluded">Journal Excluded&nbsp;</span>
                <span  class="verticalLine" *ngIf="item?.isReconcile">&nbsp;</span>
                <span class="vat" *ngIf="item?.isReconcile">Reconcile</span>
              </p>
            </span>
          </div>
          <div class="ref-header">
            <p class="ref">Status</p>
            <p class="status">{{item?.status}}</p>
          </div>
          <div class="contextual-action">
            <div class="fab-icon">
              <ion-fab class="cc-list-button" (click)="$event.stopPropagation();">
                <ion-fab-button class="expand-btn">      
                   <i class="propcoicon propcoicon-actions-on action-btn"></i>
                </ion-fab-button>
                <ion-fab-list side="start">
                  <ion-button (click)="$event.stopPropagation();openDetails('OpenAgent',item)" > View </ion-button>
                </ion-fab-list>
              </ion-fab>
            </div>
            <div>
              <ion-icon class="accordian-icon" *ngIf="!agentSuggestionPanel.expanded" name="add-circle"></ion-icon>
              <ion-icon class="accordian-icon" *ngIf="agentSuggestionPanel.expanded" name="remove-circle"></ion-icon>
            </div>
          </div>
        </div>
      </mat-expansion-panel-header>
      <ion-card-content id="details" class="padding-left">
        <ion-grid class="ion-no-padding">
          <ion-row class="main-row">
            <ion-col class="ion-no-padding" size-xl="77 " size="100">
              <ion-grid class="no-padding-top ion-no-padding">
                <ion-row class="fault-data-row">
                  <ion-col size-xl="33" size-lg="33" size-md="33">
                    <p>
                      <span class="text">PropCo ID</span>
                    <br />
                    <span class="text-value">
                      {{item?.propcoId || DEFAULTS.NOT_AVAILABLE}}
                    </span>
                    </p>
                  </ion-col>
                  <ion-col size-xl="33" size-lg="33" size-md="33">
                    <p>
                      <span class="text">Legacy Ref</span>
                    <br />
                    <span class="text-value">
                      {{item?.legacyReference || DEFAULTS.NOT_AVAILABLE}}
                    </span>
                    </p>
                  </ion-col>
                  <ion-col size-xl="33" size-lg="33" size-md="33">
                    <p>
                      <span class="text">Default Bank</span>
                    <br />
                    <span class="text-value">{{item?.defaultBank || DEFAULTS.NOT_AVAILABLE}}</span>
                    </p>
                  </ion-col>
                </ion-row>
              </ion-grid>
            </ion-col>
          </ion-row>
        </ion-grid>
      </ion-card-content>
    </mat-expansion-panel>

  </mat-accordion>
</ng-template>

<ng-template #landlordSuggestionListView  let-item="item">
  <mat-accordion class="list-view-accordian" multi>
    <mat-expansion-panel #landlordSuggestionPanel hideToggle>
      <mat-expansion-panel-header>
        <!-- <mat-panel-title> -->
         <div class="list-header align-flex-center">
          <div class="left-side">
            <i class="propcoicon propcoicon-landlord no-background"></i>
            <span class="title-wrapper">
              <p class="title" [title]="item?.fullName">{{item?.fullName}}</p>
              <p class="address-ref-wrapper">
                <span *ngIf="item?.address" class="text-ellipsis address" [title]="item?.address" >{{item?.address}}&nbsp;</span>
                <span  class="verticalLine" *ngIf="item?.address">&nbsp;</span>
                <span class="ref" [title]="item?.reference">Ref&nbsp;&nbsp;<span class="reftag">{{(item?.reference | RemainingCountPipe:'onlyString') || DEFAULTS.NOT_AVAILABLE}}&nbsp;</span></span>
                <span  class="verticalLine" *ngIf="item?.isOverseas">&nbsp;</span>
                <span class="vat" *ngIf="item?.isOverseas">Overseas&nbsp;</span>
              </p>
            </span>
          </div>
          <div class="ref-header">
            <p class="ref">Status</p>
            <p class="status">{{item?.status ? item?.status : 'unknown'}}</p>
          </div>
          <div class="contextual-action">
            <div class="fab-icon">
              <ion-fab class="cc-list-button" (click)="$event.stopPropagation();">
                <ion-fab-button class="expand-btn">      
                   <i class="propcoicon propcoicon-actions-on action-btn"></i>
                </ion-fab-button>
                <ion-fab-list side="start">
                  <ion-button (click)="$event.stopPropagation();openDetails('OpenLandlord',item)"> View </ion-button>
                </ion-fab-list>
              </ion-fab>
            </div>
            <div>
              <ion-icon class="accordian-icon" *ngIf="!landlordSuggestionPanel.expanded" name="add-circle"></ion-icon>
              <ion-icon class="accordian-icon" *ngIf="landlordSuggestionPanel.expanded" name="remove-circle"></ion-icon>
            </div>
          </div>
        </div>
      </mat-expansion-panel-header>
      <ion-card-content id="details" class="padding-left">
        <ion-grid class="ion-no-padding">
          <ion-row class="main-row">
            <ion-col class="ion-no-padding" size-xl="77 " size="100">
              <ion-grid class="no-padding-top ion-no-padding">
                <ion-row class="fault-data-row">
                  <ion-col size-xl="33" size-lg="33" size-md="33">
                    <p>
                      <span class="text">PropCo ID</span>
                    <br />
                    <span class="text-value">
                      {{item?.propcoId || DEFAULTS.NOT_AVAILABLE}}
                    </span>
                    </p>
                  </ion-col>
                  <ion-col size-xl="33" size-lg="33" size-md="33">
                    <p>
                      <span class="text">Office</span>
                    <br />
                    <span class="text-value">
                      {{item?.officeCode || DEFAULTS.NOT_AVAILABLE}}
                    </span>
                    </p>
                  </ion-col>
                  <ion-col size-xl="33" size-lg="33" size-md="33">
                    <p>
                      <span class="text">Type</span>
                    <br />
                    <span class="text-value">{{item?.type || DEFAULTS.NOT_AVAILABLE}}</span>
                    </p>
                  </ion-col>
                </ion-row>
                <ion-row class="fault-data-row">
                  <ion-col size-xl="33" size-lg="33" size-md="33">
                    <p>
                      <span class="text">Email</span>
                    <br />
                    <span class="text-value">{{item?.email || DEFAULTS.NOT_AVAILABLE}}</span>
                    </p>
                  </ion-col>
                  <ion-col size-xl="33" size-lg="33" size-md="33">
                    <p>
                      <span class="text">Phone</span>
                    <br />
                    <span class="text-value">{{item?.phoneNumber || DEFAULTS.NOT_AVAILABLE}}</span>
                    </p>
                  </ion-col>
                  <ion-col size-xl="33" size-lg="33" size-md="33">
                    <p>
                      <span class="text">Landlord Reg Number</span>
                    <br />
                    <span class="text-value">{{item?.landlordRegNumber || DEFAULTS.NOT_AVAILABLE}}</span>
                  </ion-col>
                </ion-row>
                <ion-row class="fault-data-row">
                  <ion-col size-xl="33" size-lg="33" size-md="33">
                    <p>
                      <span class="text">Number Of Properties Owned</span>
                    <br />
                    <span class="text-value">{{(item?.landlordFirstPropertyReference) ? item?.landlordOtherPropertiesCount + 1 : 0}}</span>
                    </p>
                  </ion-col>
                  <ion-col size-xl="67" size-lg="67" size-md="67">
                    <p>
                      <span class="text">Property Ref</span>
                    <br />
                    <span class="text-value">
                      <span *ngIf="item?.landlordFirstPropertyReference">{{item?.landlordFirstPropertyReference}}&nbsp;</span>
                      <span  class="verticalLine" *ngIf="item?.landlordFirstPropertyReference && item?.landlordFirstPropertyAddress">&nbsp;</span>
                      <span *ngIf="item?.landlordFirstPropertyAddress">{{item?.landlordFirstPropertyAddress}}</span>
                      <span *ngIf="!item?.landlordFirstPropertyReference && !item?.landlordFirstPropertyAddress">{{DEFAULTS.NOT_AVAILABLE}}</span>
                    </span>
                    </p>
                  </ion-col>
                </ion-row>
              </ion-grid>
            </ion-col>
          </ion-row>
        </ion-grid>
      </ion-card-content>
    </mat-expansion-panel>

  </mat-accordion>
</ng-template>

<ng-template #tenantSuggestionListView  let-item="item">
  <mat-accordion class="list-view-accordian" multi>
    <mat-expansion-panel #tenantSuggestionPanel hideToggle>
      <mat-expansion-panel-header>
        <!-- <mat-panel-title> -->
         <div class="list-header align-flex-center">
          <div class="left-side">
            <i class="propcoicon propcoicon-tenant no-background"></i>
            <span class="title-wrapper">
              <p class="title" [title]="item?.fullName">{{item?.fullName}}</p>
              <p class="address-ref-wrapper">
                <span *ngIf="item?.address" class="text-ellipsis address" [title]="item?.address" >{{item?.address}}&nbsp;</span>
                <span  class="verticalLine" *ngIf="item?.address">&nbsp;</span>
                <span class="ref">Ref&nbsp;&nbsp;<span class="reftag">{{(item?.reference ) || 0}}</span></span>
              </p>
            </span>
          </div>
          <div class="ref-header">
            <p class="ref">Status</p>
            <p class="status">{{item?.status}}</p>
          </div>
          <div class="contextual-action">
            <div class="fab-icon">
              <ion-fab class="cc-list-button" (click)="$event.stopPropagation();">
                <ion-fab-button class="expand-btn">      
                   <i class="propcoicon propcoicon-actions-on action-btn"></i>
                </ion-fab-button>
                <ion-fab-list side="start">
                  <ion-button (click)="$event.stopPropagation();openDetails('OpenTenant',item)"> View </ion-button>
                </ion-fab-list>
              </ion-fab>
            </div>
            <div>
              <ion-icon class="accordian-icon" *ngIf="!tenantSuggestionPanel.expanded" name="add-circle"></ion-icon>
              <ion-icon class="accordian-icon" *ngIf="tenantSuggestionPanel.expanded" name="remove-circle"></ion-icon>
            </div>
          </div>
        </div>
      </mat-expansion-panel-header>
      <ion-card-content id="details" class="padding-left">
        <ion-grid class="ion-no-padding">
          <ion-row class="main-row">
            <ion-col class="ion-no-padding" size-xl="77" size="70">
              <ion-grid class="no-padding-top ion-no-padding">
                <ion-row class="detail-row">
                  <ion-col size-xl="33" size-lg="33" size-md="33">
                    <p>
                      <span class="text">PropCo ID</span>
                    <br />
                    <span class="text-value">
                      {{item?.propcoId || DEFAULTS.NOT_AVAILABLE}}
                    </span>
                    </p>
                  </ion-col>
                  <ion-col size-xl="33" size-lg="33" size-md="33">
                    <p>
                      <span class="text">Office</span>
                    <br />
                    <span class="text-value">
                      {{item?.officeCode || DEFAULTS.NOT_AVAILABLE}}
                    </span>
                    </p>
                  </ion-col>
                  <ion-col size-xl="33" size-lg="33" size-md="33">
                    <p>
                      <span class="text">Type</span>
                    <br />
                    <span class="text-value">{{item?.type || DEFAULTS.NOT_AVAILABLE}}</span>
                    </p>
                  </ion-col>
                </ion-row>
                <ion-row class="detail-row">
                  <ion-col size-xl="33" size-lg="33" size-md="33">
                    <p>
                      <span class="text">Guarantor Name</span>
                    <br />
                    <span class="text-value" [title]="item?.guarantor || DEFAULTS.NOT_AVAILABLE">{{(item?.guarantor | RemainingCountPipe) || DEFAULTS.NOT_AVAILABLE}}</span>
                    </p>
                  </ion-col>
                  <ion-col size-xl="33" size-lg="33" size-md="33">
                    <p>
                      <span class="text">Co-Tenant Name</span>
                    <br />
                    <span class="text-value" [title]="item?.coTenant || DEFAULTS.NOT_AVAILABLE">{{(item?.coTenant | RemainingCountPipe) || DEFAULTS.NOT_AVAILABLE}}</span>
                    </p>
                  </ion-col>
                  <ion-col size-xl="33" size-lg="33" size-md="33">
                    <p>
                      <span class="text">Right to rent - Expiry date</span>
                    <br />
                    <span class="text-value">{{(item?.rightToRentExpiryDate | date: 'dd/MM/yyyy') || DEFAULTS.NOT_AVAILABLE}}</span>
                  </ion-col>
                </ion-row>
              </ion-grid>
            </ion-col>
          </ion-row>
        </ion-grid>
      </ion-card-content>
    </mat-expansion-panel>

  </mat-accordion>
</ng-template>

<ng-template #applicantSuggestionListView  let-item="item">
  <mat-accordion class="list-view-accordian" multi>
    <mat-expansion-panel #applicantSuggestionPanel hideToggle>
      <mat-expansion-panel-header>
        <!-- <mat-panel-title> -->
         <div class="list-header align-flex-center">
          <div class="left-side">
            <i class="propcoicon propcoicon-applicant-let no-background"></i>
            <span class="title-wrapper">
              <p class="title" [title]="item?.fullName">{{item?.fullName}}&nbsp;&nbsp;
                <span title="Hot" *ngIf="item?.isHot"><ion-icon color="danger" name="flame-outline"></ion-icon></span>
                <span title="Student" *ngIf="item?.isStudent"><ion-icon color="danger"name="person-circle-outline"></ion-icon></span>
              </p>
              <p class="address-ref-wrapper">
                <span *ngIf="item?.address" class="text-ellipsis address" [title]="item?.address" >{{item?.address}}&nbsp;</span>
                <span  class="verticalLine" *ngIf="item?.address">&nbsp;</span>
                <span class="ref">Ref&nbsp;&nbsp;<span class="reftag">{{(item?.reference ) || 0}}</span></span>
              </p>
            </span>
          </div>
          <div class="ref-header">
            <p class="ref">Status</p>
            <p class="status">{{item?.status}}</p>
          </div>
          <div class="contextual-action">
            <div class="fab-icon">
              <ion-fab class="cc-list-button" (click)="$event.stopPropagation();">
                <ion-fab-button class="expand-btn">      
                   <i class="propcoicon propcoicon-actions-on action-btn"></i>
                </ion-fab-button>
                <ion-fab-list side="start">
                  <ion-button (click)="$event.stopPropagation();openDetails('OpenApplicant',item)"> View </ion-button>
                </ion-fab-list>
              </ion-fab>
            </div>
            <div>
              <ion-icon class="accordian-icon" *ngIf="!applicantSuggestionPanel.expanded" name="add-circle"></ion-icon>
              <ion-icon class="accordian-icon" *ngIf="applicantSuggestionPanel.expanded" name="remove-circle"></ion-icon>
            </div>
          </div>
        </div>
      </mat-expansion-panel-header>
      <ion-card-content id="details" class="padding-left">
        <ion-grid class="ion-no-padding">
          <ion-row class="main-row">
            <ion-col class="ion-no-padding" size-xl="77 " size="100">
              <ion-grid class="no-padding-top ion-no-padding">
                <ion-row class="detail-row">
                  <ion-col size-xl="33" size-lg="33" size-md="33">
                    <p>
                      <span class="text">PropCo ID</span>
                    <br />
                    <span class="text-value">
                      {{item?.propcoId || DEFAULTS.NOT_AVAILABLE}}
                    </span>
                    </p>
                  </ion-col>
                  <ion-col size-xl="33" size-lg="33" size-md="33">
                    <p>
                      <span class="text">Office</span>
                    <br />
                    <span class="text-value">
                      {{item?.officeCode || DEFAULTS.NOT_AVAILABLE}}
                    </span>
                    </p>
                  </ion-col>
                  <ion-col size-xl="33" size-lg="33" size-md="33">
                    <p>
                      <span class="text">Negotiator</span>
                    <br />
                    <span class="text-value">{{item?.negotiator || DEFAULTS.NOT_AVAILABLE}}</span>
                    </p>
                  </ion-col>
                </ion-row>
                <ion-row class="detail-row">
                  <ion-col size-xl="33" size-lg="33" size-md="33">
                    <p>
                      <span class="text">Price Range</span>
                    <br />
                    <span class="text-value">{{item?.priceRange || DEFAULTS.NOT_AVAILABLE}}</span>
                    </p>
                  </ion-col>
                  <ion-col size-xl="33" size-lg="33" size-md="33">
                    <p>
                      <span class="text">Minimum number of beds</span>
                    <br />
                    <span class="text-value">{{item?.bedRange || DEFAULTS.NOT_AVAILABLE}}</span>
                    </p>
                  </ion-col>
                  <ion-col size-xl="33" size-lg="33" size-md="33">
                    <p>
                      <span class="text">How soon looking to move?</span>
                    <br />
                    <span class="text-value">{{(item?.howSoonLookingToMove | date: 'dd/MM/yyyy') || DEFAULTS.NOT_AVAILABLE}}</span>
                  </ion-col>
                </ion-row>
              </ion-grid>
            </ion-col>
          </ion-row>
        </ion-grid>
      </ion-card-content>
    </mat-expansion-panel>

  </mat-accordion>
</ng-template>

<ng-template #contractorSuggestionListView  let-item="item">
  <mat-accordion class="list-view-accordian" multi>
    <mat-expansion-panel #contractorSuggestionPanel hideToggle>
      <mat-expansion-panel-header>
        <!-- <mat-panel-title> -->
         <div class="list-header align-flex-center">
          <div class="left-side">
            <i class="propcoicon propcoicon-contractor no-background"></i>
            <span class="title-wrapper">
              <p class="title" [title]="item?.fullName">{{item?.fullName}}</p>
              <p class="address-ref-wrapper">
                <span *ngIf="item?.address" class="text-ellipsis address" [title]="item?.address" >{{item?.address}}&nbsp;</span>
                <span  class="verticalLine" *ngIf="item?.address">&nbsp;</span>
                <span class="ref">Ref&nbsp;&nbsp;<span class="reftag">{{(item?.reference ) || 0}}&nbsp;</span></span>
                <span  class="verticalLine" *ngIf="item?.isAgentContractorApproved">&nbsp;</span>
                <span class="vat" *ngIf="item?.isAgentContractorApproved">Agency Approved&nbsp;</span>
                <span  class="verticalLine" *ngIf="item?.isVatRegistered">&nbsp;</span>
                <span class="vat" *ngIf="item?.isVatRegistered">VAT  Registered</span>
              </p>
            </span>
          </div>
          <div class="ref-header">
            <p class="ref">Status</p>
            <p class="status">{{item?.status}}</p>
          </div>
          <div class="contextual-action">
            <div class="fab-icon">
              <ion-fab class="cc-list-button" (click)="$event.stopPropagation();">
                <ion-fab-button class="expand-btn">      
                   <i class="propcoicon propcoicon-actions-on action-btn"></i>
                </ion-fab-button>
                <ion-fab-list side="start">
                  <ion-button (click)="$event.stopPropagation();openDetails('OpenContractor',item)"> View </ion-button>
                </ion-fab-list>
              </ion-fab>
            </div>
            <div>
              <ion-icon class="accordian-icon" *ngIf="!contractorSuggestionPanel.expanded" name="add-circle"></ion-icon>
              <ion-icon class="accordian-icon" *ngIf="contractorSuggestionPanel.expanded" name="remove-circle"></ion-icon>
            </div>
          </div>
        </div>
      </mat-expansion-panel-header>
      <ion-card-content id="details" class="padding-left">
        <ion-grid class="ion-no-padding">
          <ion-row class="main-row">
            <ion-col class="ion-no-padding" size-xl="77 " size="100">
              <ion-grid class="no-padding-top ion-no-padding">
                <ion-row class="detail-row">
                  <ion-col size-xl="33" size-lg="33" size-md="33">
                    <p>
                      <span class="text">PropCo ID</span>
                    <br />
                    <span class="text-value">
                      {{item?.propcoId || DEFAULTS.NOT_AVAILABLE}}
                    </span>
                    </p>
                  </ion-col>
                  <ion-col size-xl="60" size-lg="60" size-md="60">
                    <p>
                      <span class="text">Occupation/Service</span>
                    <br />
                    <span class="text-value" >{{(item?.occupation) || DEFAULTS.NOT_AVAILABLE}}</span>
                    </p>
                  </ion-col>
                  <ion-col ></ion-col>
                </ion-row>
                <ion-row class="detail-row">
                  
                  <ion-col size-xl="33" size-lg="33" size-md="33">
                    <p>
                      <span class="text">Phone Number</span>
                    <br />
                    <span class="text-value">{{item?.phoneNumber || DEFAULTS.NOT_AVAILABLE}}</span>
                    </p>
                  </ion-col>
                  <ion-col size-xl="33" size-lg="33" size-md="33">
                    <p>
                      <span class="text">Email</span>
                    <br />
                    <span class="text-value">{{item?.email || DEFAULTS.NOT_AVAILABLE}}</span>
                  </ion-col>
                  <ion-col size-xl="33" size-lg="33" size-md="33">
                    <p>
                      <span class="text">Expiry date</span>
                    <br />
                    <span class="text-value" [ngClass]="{'expired' : item?.supplierLiabilityExpiryDate < currentDate}">{{(item?.supplierLiabilityExpiryDate | date: 'dd/MM/yyyy') || DEFAULTS.NOT_AVAILABLE}}</span>
                    </p>
                  </ion-col>
                </ion-row>
              </ion-grid>
            </ion-col>
          </ion-row>
        </ion-grid>
      </ion-card-content>
    </mat-expansion-panel>

  </mat-accordion>
</ng-template>
<!--List view ends-->


<!--List view skeleton-->
<ng-template #listskeleton>
  <div class="list-skeleton">
    <div class="filter-skeleton-wrapper">
      <div class="total-page"><ion-skeleton-text animated></ion-skeleton-text></div>
      <div class="paginator"><ion-skeleton-text animated></ion-skeleton-text></div>
    </div>
    <ion-list>
      <ion-item *ngFor="let item of [0,1,2,3,4,5,6,7,8]">
        <ion-thumbnail slot="start">
          <ion-skeleton-text animated></ion-skeleton-text>
        </ion-thumbnail>
        <ion-label>
          <h3>
            <ion-skeleton-text animated></ion-skeleton-text>
          </h3>
          <p>
            <ion-skeleton-text animated></ion-skeleton-text>
          </p>
          <p>
            <ion-skeleton-text animated></ion-skeleton-text>
          </p>
        </ion-label>
      </ion-item>
    </ion-list>
  </div>
</ng-template>
<!--Ends-->